<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Grid Challenge Ultimate</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Font Google: Titillium Web -->
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@400;600;700;900&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Titillium Web', sans-serif;
            background-color: #111827;
            color: white;
            background-image: radial-gradient(#1f2937 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .cell-btn {
            aspect-ratio: 1;
            transition: all 0.2s ease;
        }
        .cell-btn:hover:not(:disabled) {
            transform: scale(1.02);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
            border-color: white;
        }

        /* Scrollbar */
        .custom-scroll::-webkit-scrollbar { width: 8px; }
        .custom-scroll::-webkit-scrollbar-track { background: #1f2937; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }

        /* Animazioni */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in { animation: fadeIn 0.3s ease-out forwards; }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .slide-in { animation: slideInRight 0.4s ease-out forwards; }

        /* Stati Giocatori Grid */
        .p1-owned { background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%); border: 2px solid #60a5fa; color: white; }
        .p2-owned { background: linear-gradient(135deg, #991b1b 0%, #ef4444 100%); border: 2px solid #f87171; color: white; }
        .solo-correct { background: linear-gradient(135deg, #065f46 0%, #10b981 100%); border: 2px solid #34d399; }

        .wrong-answer { animation: shake 0.5s; }
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        .mode-card { transition: all 0.3s ease; }
        .mode-card:hover { transform: translateY(-5px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5); }
        
        .selected-list-item { background-color: #374151; border-color: #4b5563; }
        .disabled-driver { opacity: 0.4; pointer-events: none; filter: grayscale(1); }

        /* Timeline Styles */
        .timeline-line { position: absolute; left: 15px; top: 0; bottom: 0; width: 2px; background: #4b5563; z-index: 0; }
        .timeline-item { position: relative; z-index: 10; margin-bottom: 1rem; padding-left: 2.5rem; }
        .timeline-dot { position: absolute; left: 6px; top: 6px; width: 20px; height: 20px; border-radius: 50%; border: 3px solid #1f2937; }
        
        /* Compare Card Styles */
        .compare-card {
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .compare-card:hover:not(:disabled) {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-start p-4 transition-colors duration-500 overflow-x-hidden">

    <!-- SETTINGS BUTTONS -->
    <div class="absolute top-4 right-4 z-50 flex gap-2">
        <button onclick="SoundManager.toggleMute()" id="sound-btn" class="bg-gray-800 p-3 rounded-full hover:bg-gray-700 transition shadow-lg border border-gray-600 w-12 h-12 flex items-center justify-center">
            <i class="fas fa-volume-up text-white" id="sound-icon"></i>
        </button>
        <button onclick="toggleLanguage()" class="bg-gray-800 p-3 rounded-full hover:bg-gray-700 transition shadow-lg border border-gray-600 h-12 flex items-center justify-center min-w-[3rem]">
            <span id="lang-indicator" class="font-bold text-xs text-white">IT</span>
        </button>
    </div>

    <!-- MAIN MENU SCREEN -->
    <div id="main-menu" class="w-full max-w-4xl flex flex-col items-center justify-center min-h-[80vh] fade-in">
        <h1 class="text-6xl md:text-8xl font-black text-white italic tracking-tighter mb-2 text-center">
            F1 <span class="text-red-600">GRID</span>
        </h1>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl">
            <!-- Mode 1: 1 VS 1 (Versus) -->
            <button onclick="SoundManager.play('click'); startGame('versus')" class="mode-card bg-gray-800 border-2 border-blue-500 p-6 rounded-3xl text-left relative overflow-hidden group h-40">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-user-friends text-8xl"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2" data-i18n="mode_versus_title">Battaglia 1 VS 1</h3>
                <p class="text-gray-400 text-xs mb-4" data-i18n="mode_versus_desc">Sfida un amico. Blu vs Rosso. Griglia Solvibile (Min 3 opzioni).</p>
                <span class="inline-block bg-blue-900/50 text-blue-400 text-[10px] font-bold px-2 py-1 rounded-full uppercase">Local Grid</span>
            </button>

            <!-- Mode 2: Grid Bingo (ex Solo Challenge) -->
            <button onclick="SoundManager.play('click'); startGame('solo')" class="mode-card bg-gray-800 border-2 border-green-500 p-6 rounded-3xl text-left relative overflow-hidden group h-40">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-th text-8xl"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2" data-i18n="mode_solo_title">Grid Bingo</h3>
                <p class="text-gray-400 text-xs mb-4" data-i18n="mode_solo_desc">Modalità classica. 3 vite. (Min 3 opzioni per cella).</p>
                <span class="inline-block bg-green-900/50 text-green-400 text-[10px] font-bold px-2 py-1 rounded-full uppercase">Grid Single Player</span>
            </button>

            <!-- Mode 3: Indovina la Carriera -->
            <button onclick="SoundManager.play('click'); showSubMenu('career')" class="mode-card bg-gray-800 border-2 border-yellow-500 p-6 rounded-3xl text-left relative overflow-hidden group h-40">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-route text-8xl"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2" data-i18n="mode_career_title">Indovina Carriera</h3>
                <p class="text-gray-400 text-xs mb-4" data-i18n="mode_career_desc">Difficile: Include piloti dal 1970 al 2025.</p>
                <span class="inline-block bg-yellow-900/50 text-yellow-400 text-[10px] font-bold px-2 py-1 rounded-full uppercase">Trivia Hard</span>
            </button>

            <!-- Mode 4: Confronto -->
            <button onclick="SoundManager.play('click'); showSubMenu('compare')" class="mode-card bg-gray-800 border-2 border-purple-500 p-6 rounded-3xl text-left relative overflow-hidden group h-40">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-balance-scale text-8xl"></i>
                </div>
                <h3 class="text-xl font-bold text-white mb-2" data-i18n="mode_compare_title">Confronto Carriere</h3>
                <p class="text-gray-400 text-xs mb-4" data-i18n="mode_compare_desc">Sfide equilibrate e difficili tra ere diverse.</p>
                <span class="inline-block bg-purple-900/50 text-purple-400 text-[10px] font-bold px-2 py-1 rounded-full uppercase">Trivia Hard</span>
            </button>
        </div>
    </div>

    <!-- SUBMENU MODAL (Daily vs Infinite) -->
    <div id="submenu-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 fade-in">
        <div class="bg-gray-800 w-full max-w-sm rounded-2xl shadow-2xl border border-gray-600 p-6 text-center">
            <h3 id="submenu-title" class="text-2xl font-bold text-white mb-6">Seleziona Modalità</h3>
            <div class="space-y-4">
                <button onclick="SoundManager.play('click'); selectSubMode('daily')" class="w-full bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-500 hover:to-red-500 text-white font-bold py-4 rounded-xl shadow-lg transform transition hover:scale-105">
                    <i class="fas fa-calendar-day mr-2"></i> <span data-i18n="btn_daily">Giornaliera</span>
                </button>
                <button onclick="SoundManager.play('click'); selectSubMode('infinite')" class="w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 rounded-xl shadow-lg transform transition hover:scale-105">
                    <i class="fas fa-infinity mr-2"></i> <span data-i18n="btn_infinite">Infinita</span>
                </button>
            </div>
            <button onclick="SoundManager.play('click'); closeSubMenu()" class="mt-6 text-gray-400 hover:text-white underline text-sm">Annulla</button>
        </div>
    </div>

    <!-- DAILY LIMIT OVERLAY -->
    <div id="daily-limit-overlay" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-6 fade-in">
        <div class="text-center">
            <i class="fas fa-clock text-6xl text-yellow-500 mb-4"></i>
            <h2 class="text-3xl font-bold text-white mb-2">Già Completato!</h2>
            <p class="text-gray-400 text-lg mb-8">Hai già giocato la sfida giornaliera di oggi.<br>Torna a mezzanotte per la nuova sfida.</p>
            <button onclick="backToMenu()" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-8 rounded-full">Torna al Menu</button>
        </div>
    </div>

    <!-- GAME SCREEN (GRID) -->
    <div id="game-screen" class="hidden w-full max-w-2xl flex-col items-center fade-in">
        <header class="w-full flex justify-between items-center mb-6 mt-4">
            <div class="flex items-center gap-4">
                <button onclick="SoundManager.play('click'); backToMenu()" class="bg-gray-800 p-2 rounded-xl hover:bg-gray-700 transition-colors text-gray-400 hover:text-white">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <div>
                    <h1 class="text-2xl font-black text-white italic uppercase tracking-wider">F1 <span id="game-mode-title" class="text-red-500">GRID</span></h1>
                    <p id="turn-indicator" class="text-blue-400 font-bold text-sm animate-pulse">Turno Giocatore 1</p>
                </div>
            </div>
            
            <div class="flex gap-3">
                <div id="stats-container" class="bg-gray-800 px-4 py-2 rounded-2xl border border-gray-700 shadow-lg flex items-center gap-2"></div>
                <button onclick="SoundManager.play('click'); resetBoard()" class="bg-red-600 hover:bg-red-700 text-white p-3 rounded-2xl shadow-lg transition-colors">
                    <i class="fas fa-redo-alt"></i>
                </button>
            </div>
        </header>

        <main class="w-full bg-gray-900/80 backdrop-blur-md p-4 rounded-3xl border border-gray-700 shadow-2xl relative">
            <div class="grid grid-cols-4 gap-2 sm:gap-4">
                <div class="bg-transparent flex items-center justify-center">
                    <i class="fas fa-chess-board text-3xl text-gray-700"></i>
                </div>
                <!-- Headers and Cells populated by JS -->
                <div id="col-header-0" class="bg-gray-800 rounded-xl p-1 flex items-center justify-center text-center border border-gray-700 min-h-[60px]"></div>
                <div id="col-header-1" class="bg-gray-800 rounded-xl p-1 flex items-center justify-center text-center border border-gray-700 min-h-[60px]"></div>
                <div id="col-header-2" class="bg-gray-800 rounded-xl p-1 flex items-center justify-center text-center border border-gray-700 min-h-[60px]"></div>

                <div id="row-header-0" class="bg-gray-800 rounded-xl p-1 flex items-center justify-center text-center border border-gray-700 min-h-[60px]"></div>
                <button onclick="handleCellClick(0,0)" id="cell-0-0" class="cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group"><span class="text-gray-600 text-2xl group-hover:text-white">+</span></button>
                <button onclick="handleCellClick(0,1)" id="cell-0-1" class="cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group"><span class="text-gray-600 text-2xl group-hover:text-white">+</span></button>
                <button onclick="handleCellClick(0,2)" id="cell-0-2" class="cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group"><span class="text-gray-600 text-2xl group-hover:text-white">+</span></button>

                <div id="row-header-1" class="bg-gray-800 rounded-xl p-1 flex items-center justify-center text-center border border-gray-700 min-h-[60px]"></div>
                <button onclick="handleCellClick(1,0)" id="cell-1-0" class="cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group"><span class="text-gray-600 text-2xl group-hover:text-white">+</span></button>
                <button onclick="handleCellClick(1,1)" id="cell-1-1" class="cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group"><span class="text-gray-600 text-2xl group-hover:text-white">+</span></button>
                <button onclick="handleCellClick(1,2)" id="cell-1-2" class="cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group"><span class="text-gray-600 text-2xl group-hover:text-white">+</span></button>

                <div id="row-header-2" class="bg-gray-800 rounded-xl p-1 flex items-center justify-center text-center border border-gray-700 min-h-[60px]"></div>
                <button onclick="handleCellClick(2,0)" id="cell-2-0" class="cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group"><span class="text-gray-600 text-2xl group-hover:text-white">+</span></button>
                <button onclick="handleCellClick(2,1)" id="cell-2-1" class="cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group"><span class="text-gray-600 text-2xl group-hover:text-white">+</span></button>
                <button onclick="handleCellClick(2,2)" id="cell-2-2" class="cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group"><span class="text-gray-600 text-2xl group-hover:text-white">+</span></button>
            </div>
        </main>
    </div>

    <!-- TRIVIA SCREEN (Career & Compare) -->
    <div id="trivia-screen" class="hidden w-full max-w-2xl flex-col items-center fade-in mt-4 mb-8">
        <header class="w-full flex justify-between items-center mb-6">
             <button onclick="SoundManager.play('click'); backToMenu()" class="bg-gray-800 p-2 rounded-xl hover:bg-gray-700 text-gray-400">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="flex flex-col items-center">
                <h2 id="trivia-title" class="text-2xl font-bold text-white uppercase italic text-center mx-2"></h2>
                <!-- Trivia Lives Container -->
                <div id="trivia-lives-container" class="hidden flex gap-1 mt-1 text-red-500 text-sm">
                    <i class="fas fa-heart"></i><i class="fas fa-heart"></i><i class="fas fa-heart"></i>
                </div>
            </div>
            <div id="trivia-score" class="bg-gray-800 px-3 py-1 rounded-lg text-sm font-bold text-yellow-400 whitespace-nowrap">0/0</div>
        </header>

        <main id="trivia-content" class="w-full bg-gray-900/90 backdrop-blur border border-gray-700 rounded-3xl p-6 shadow-2xl min-h-[300px] flex flex-col items-center justify-center text-center relative overflow-hidden">
            <!-- Dynamic Content -->
        </main>

        <div id="trivia-controls" class="w-full mt-6 flex justify-center h-16">
             <button id="trivia-next-btn" onclick="SoundManager.play('click'); nextTriviaRound()" class="hidden bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition hover:scale-105">
                <span data-i18n="btn_next">Prossimo</span> <i class="fas fa-arrow-right ml-2"></i>
            </button>
        </div>
    </div>

    <!-- Game Over Overlay (Grid) -->
    <div id="game-over-overlay" class="hidden fixed inset-0 bg-black/95 z-40 flex flex-col items-center justify-center p-6 text-center fade-in">
        <h2 id="game-over-title" class="text-4xl font-bold mb-4 text-white">GAME OVER</h2>
        <p id="game-over-message" class="text-gray-300 mb-8">Risultato</p>
        <div class="flex gap-4">
            <button onclick="SoundManager.play('click'); backToMenu()" class="bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-full transition-all" data-i18n="btn_menu">Menu</button>
            <button onclick="SoundManager.play('click'); resetBoard()" class="bg-red-600 hover:bg-red-500 text-white font-bold py-3 px-8 rounded-full transition-all shadow-lg shadow-red-600/30" data-i18n="btn_replay">Rigioca</button>
        </div>
    </div>

    <!-- Selection Modal -->
    <div id="modal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4">
        <div class="bg-gray-800 w-full max-w-md rounded-2xl shadow-2xl border border-gray-700 flex flex-col max-h-[80vh] fade-in">
            <div class="p-4 border-b border-gray-700 flex justify-between items-center">
                <h3 class="font-bold text-lg" data-i18n="search_title">Seleziona Pilota</h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-white"><i class="fas fa-times"></i></button>
            </div>
            <div class="p-4 pb-2">
                <div class="relative">
                    <i class="fas fa-search absolute left-3 top-3 text-gray-500"></i>
                    <input type="text" id="driver-search" class="w-full bg-gray-900 text-white rounded-xl py-2 pl-10 pr-4 border border-gray-700 focus:outline-none focus:border-red-500 transition-colors" autocomplete="off">
                </div>
                <div class="text-[10px] text-gray-500 mt-2 text-center" data-i18n="search_hint">Usa frecce SU/GIÙ + INVIO</div>
            </div>
            <div id="drivers-list" class="flex-1 overflow-y-auto p-2 custom-scroll space-y-1"></div>
        </div>
    </div>

    <script>
        // --- SOUND MANAGER ---
        const SoundManager = {
            audioCtx: null,
            muted: false,
            
            init: function() {
                if (!this.audioCtx) {
                    this.audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                }
            },

            toggleMute: function() {
                this.muted = !this.muted;
                const icon = document.getElementById('sound-icon');
                if (this.muted) {
                    icon.classList.remove('fa-volume-up');
                    icon.classList.add('fa-volume-mute');
                    icon.classList.add('text-red-500');
                    icon.classList.remove('text-white');
                } else {
                    icon.classList.add('fa-volume-up');
                    icon.classList.remove('fa-volume-mute');
                    icon.classList.remove('text-red-500');
                    icon.classList.add('text-white');
                    this.play('click'); // Feedback
                }
                return this.muted;
            },

            play: function(type) {
                if (this.muted) return;
                if (!this.audioCtx) this.init();
                if (this.audioCtx.state === 'suspended') this.audioCtx.resume();

                const ctx = this.audioCtx;
                const osc = ctx.createOscillator();
                const gainNode = ctx.createGain();

                osc.connect(gainNode);
                gainNode.connect(ctx.destination);

                const now = ctx.currentTime;

                switch (type) {
                    case 'click':
                        osc.type = 'sine';
                        osc.frequency.setValueAtTime(800, now);
                        osc.frequency.exponentialRampToValueAtTime(300, now + 0.05);
                        gainNode.gain.setValueAtTime(0.05, now);
                        gainNode.gain.exponentialRampToValueAtTime(0.001, now + 0.05);
                        osc.start(now);
                        osc.stop(now + 0.05);
                        break;
                    
                    case 'success':
                        // Major Arpeggio
                        this.playTone(523.25, 'sine', 0.1, 0); // C
                        this.playTone(659.25, 'sine', 0.1, 0.1); // E
                        this.playTone(783.99, 'sine', 0.2, 0.2); // G
                        break;

                    case 'error':
                        osc.type = 'sawtooth';
                        osc.frequency.setValueAtTime(150, now);
                        osc.frequency.linearRampToValueAtTime(50, now + 0.3);
                        gainNode.gain.setValueAtTime(0.1, now);
                        gainNode.gain.linearRampToValueAtTime(0.001, now + 0.3);
                        osc.start(now);
                        osc.stop(now + 0.3);
                        break;

                    case 'win':
                        this.playTone(523.25, 'square', 0.1, 0); 
                        this.playTone(659.25, 'square', 0.1, 0.1); 
                        this.playTone(783.99, 'square', 0.1, 0.2); 
                        this.playTone(1046.50, 'square', 0.4, 0.3); 
                        break;

                     case 'gameover':
                        this.playTone(300, 'triangle', 0.2, 0);
                        this.playTone(250, 'triangle', 0.2, 0.2);
                        this.playTone(200, 'triangle', 0.4, 0.4);
                        break;
                        
                    case 'start':
                        // Engine Rev effect
                        osc.type = 'sawtooth';
                        osc.frequency.setValueAtTime(100, now);
                        osc.frequency.exponentialRampToValueAtTime(400, now + 0.3);
                        gainNode.gain.setValueAtTime(0.1, now);
                        gainNode.gain.linearRampToValueAtTime(0.001, now + 0.3);
                        osc.start(now);
                        osc.stop(now + 0.3);
                        break;
                }
            },

            playTone: function(freq, type, duration, delay) {
                if (this.muted) return;
                const ctx = this.audioCtx;
                const osc = ctx.createOscillator();
                const gainNode = ctx.createGain();
                
                osc.connect(gainNode);
                gainNode.connect(ctx.destination);
                
                const now = ctx.currentTime + delay;
                osc.type = type;
                osc.frequency.value = freq;
                
                gainNode.gain.setValueAtTime(0.05, now);
                gainNode.gain.exponentialRampToValueAtTime(0.001, now + duration);
                
                osc.start(now);
                osc.stop(now + duration);
            }
        };

        // --- TRANSLATIONS ---
        const translations = {
            it: {
                mode_versus_title: "Battaglia 1 VS 1",
                mode_versus_desc: "Sfida un amico. Giocatore 1 (Blu) vs Giocatore 2 (Rosso). Griglia garantita (Min 3 opzioni).",
                mode_solo_title: "Grid Bingo",
                mode_solo_desc: "Modalità classica. 3 vite. (Min 3 opzioni per cella).",
                mode_career_title: "Indovina Carriera",
                mode_career_desc: "Difficile: Include piloti dal 1970 al 2025.",
                mode_compare_title: "Confronto Carriere",
                mode_compare_desc: "Sfide equilibrate e difficili tra ere diverse.",
                btn_daily: "Giornaliera",
                btn_infinite: "Infinita",
                turn_p1: "Turno: Giocatore 1 (Blu)",
                turn_p2: "Turno: Giocatore 2 (Rosso)",
                search_title: "Seleziona Pilota",
                search_hint: "Usa frecce SU/GIÙ + INVIO per selezionare",
                btn_menu: "Menu",
                btn_replay: "Rigioca",
                btn_next: "Prossimo",
                btn_guess: "Chi è questo pilota?",
                lives: "Vite",
                win_msg: "Vince!",
                draw_msg: "Pareggio!",
                cat_country: "NAZIONALITÀ", cat_fact: "FATTO DI CARRIERA", cat_team: "SCUDERIA",
                stat_wins: "Vittorie GP",
                stat_podiums: "Podi",
                stat_titles: "Titoli Mondiali",
                stat_starts: "GP Disputati",
                stat_points: "Punti Totali",
                stat_fastest_laps: "Giri Veloci",
                stat_seasons: "Stagioni Disputate",
                stat_teams_count: "Numero Scuderie",
                stat_ppr: "Media Punti/Gara",
                career_path: "Percorso Carriera",
                UK: "Regno Unito", DE: "Germania", BR: "Brasile", FI: "Finlandia",
                FR: "Francia", AU: "Australia", ES: "Spagna", IT: "Italia", NL: "Olanda", 
                MX: "Messico", CA: "Canada", JP: "Giappone", TH: "Thailandia", MC: "Monaco", US: "USA", 
                DK: "Danimarca", CH: "Svizzera", PL: "Polonia", RU: "Russia", NZ: "N. Zelanda",
                SE: "Svezia", BE: "Belgio", AT: "Austria", AR: "Argentina", ZA: "Sud Africa", IE: "Irlanda",
                VE: "Venezuela", IN: "India", CN: "Cina", ID: "Indonesia", PT: "Portogallo",
                champion: "Campione Mondo", wins: "Vincitore GP", podiums: "A Podio", poles: "Pole Position",
                win_monaco: "Vincitore Monaco", win_monza: "Vincitore Monza", win_spa: "Vincitore Spa", win_silverstone: "Vincitore Silverstone",
                points: "Punti in Carriera"
            },
            en: {
                mode_versus_title: "1 VS 1 Battle",
                mode_versus_desc: "Challenge a friend. Solvable Grid (Min 3 options per cell).",
                mode_solo_title: "Grid Bingo",
                mode_solo_desc: "Classic mode. 3 lives. (Min 3 options per cell).",
                mode_career_title: "Guess Career",
                mode_career_desc: "Hard Mode: Drivers from 1970 to 2025.",
                mode_compare_title: "Career Face-off",
                mode_compare_desc: "Hard balanced stats from different eras.",
                btn_daily: "Daily",
                btn_infinite: "Infinite",
                turn_p1: "Turn: Player 1 (Blue)",
                turn_p2: "Turn: Player 2 (Red)",
                search_title: "Select Driver",
                search_hint: "Use UP/DOWN arrows + ENTER to select",
                btn_menu: "Menu",
                btn_replay: "Play Again",
                btn_next: "Next",
                btn_guess: "Who is this driver?",
                lives: "Lives",
                win_msg: "Wins!",
                draw_msg: "Draw!",
                cat_country: "NATIONALITY", cat_fact: "CAREER FACT", cat_team: "TEAM",
                stat_wins: "GP Wins",
                stat_podiums: "Podiums",
                stat_titles: "World Titles",
                stat_starts: "GP Starts",
                stat_points: "Total Points",
                stat_fastest_laps: "Fastest Laps",
                stat_seasons: "Seasons Raced",
                stat_teams_count: "Total Teams",
                stat_ppr: "Points Per Race",
                career_path: "Career Path",
                UK: "United Kingdom", DE: "Germany", BR: "Brazil", FI: "Finland",
                FR: "France", AU: "Australia", ES: "Spain", IT: "Italy", NL: "Netherlands", 
                MX: "Mexico", CA: "Canada", JP: "Japan", TH: "Thailand", MC: "Monaco", US: "USA", 
                DK: "Denmark", CH: "Switzerland", PL: "Poland", RU: "Russia", NZ: "N. Zealand",
                SE: "Sweden", BE: "Belgium", AT: "Austria", AR: "Argentina", ZA: "South Africa", IE: "Ireland",
                VE: "Venezuela", IN: "India", CN: "China", ID: "Indonesia", PT: "Portugal",
                champion: "World Champion", wins: "Race Winner", podiums: "Podium Finisher", poles: "Pole Position",
                win_monaco: "Monaco Winner", win_monza: "Monza Winner", win_spa: "Spa Winner", win_silverstone: "Silverstone Winner",
                points: "Career Points"
            }
        };

        let currentLang = 'it';

        // --- DRIVER DATABASE 1970-2025 (EXPANDED) ---
        const drivers = [
            { id: "lewis", name: "Lewis Hamilton", teams: ["Mercedes", "Ferrari", "McLaren"], timeline: [{t:"Ferrari", y:"2025-"}, {t:"Mercedes", y:"2013-2024"}, {t:"McLaren", y:"2007-2012"}], country: "UK", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 105, stat_podiums: 201, stat_titles: 7, stat_starts: 353, stat_points: 4850, stat_fastest_laps: 67, stat_seasons: 19 },
            { id: "max", name: "Max Verstappen", teams: ["Red Bull", "Toro Rosso"], timeline: [{t:"Red Bull", y:"2016-2025"}, {t:"Toro Rosso", y:"2015-2016"}], country: "Netherlands", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 63, stat_podiums: 112, stat_titles: 4, stat_starts: 208, stat_points: 3000, stat_fastest_laps: 33, stat_seasons: 11 },
            { id: "charles", name: "Charles Leclerc", teams: ["Ferrari", "Sauber"], timeline: [{t:"Ferrari", y:"2019-2025"}, {t:"Sauber", y:"2018"}], country: "Monaco", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: false, win_spa: true, stat_wins: 9, stat_podiums: 42, stat_titles: 0, stat_starts: 146, stat_points: 1350, stat_fastest_laps: 11, stat_seasons: 8 },
            { id: "lando", name: "Lando Norris", teams: ["McLaren"], timeline: [{t:"McLaren", y:"2019-2025"}], country: "UK", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 4, stat_podiums: 28, stat_titles: 0, stat_starts: 126, stat_points: 950, stat_fastest_laps: 9, stat_seasons: 7 },
            { id: "oscar", name: "Oscar Piastri", teams: ["McLaren"], timeline: [{t:"McLaren", y:"2023-2025"}], country: "Australia", champion: false, wins: true, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 3, stat_podiums: 15, stat_titles: 0, stat_starts: 46, stat_points: 350, stat_fastest_laps: 4, stat_seasons: 3 },
            { id: "george", name: "George Russell", teams: ["Mercedes", "Williams"], timeline: [{t:"Mercedes", y:"2022-2025"}, {t:"Williams", y:"2019-2021"}], country: "UK", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: true, stat_wins: 3, stat_podiums: 18, stat_titles: 0, stat_starts: 126, stat_points: 650, stat_fastest_laps: 8, stat_seasons: 7 },
            { id: "carlos", name: "Carlos Sainz", teams: ["Ferrari", "Williams", "McLaren", "Renault", "Toro Rosso"], timeline: [{t:"Williams", y:"2025-"}, {t:"Ferrari", y:"2021-2024"}, {t:"McLaren", y:"2019-2020"}, {t:"Renault", y:"2017-2018"}, {t:"Toro Rosso", y:"2015-2017"}], country: "Spain", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: true, win_silverstone: true, win_spa: false, stat_wins: 4, stat_podiums: 26, stat_titles: 0, stat_starts: 206, stat_points: 1250, stat_fastest_laps: 4, stat_seasons: 11 },
            { id: "fernando", name: "Fernando Alonso", teams: ["Aston Martin", "Alpine", "McLaren", "Ferrari", "Renault", "Minardi"], timeline: [{t:"Aston Martin", y:"2023-2025"}, {t:"Alpine", y:"2021-2022"}, {t:"McLaren", y:"2015-2018"}, {t:"Ferrari", y:"2010-2014"}, {t:"Renault", y:"2008-2009"}, {t:"McLaren", y:"2007"}, {t:"Renault", y:"2003-2006"}, {t:"Minardi", y:"2001"}], country: "Spain", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: false, stat_wins: 32, stat_podiums: 107, stat_titles: 2, stat_starts: 405, stat_points: 2350, stat_fastest_laps: 26, stat_seasons: 22 },
            { id: "checo", name: "Sergio Perez", teams: ["Red Bull", "Racing Point", "McLaren", "Sauber", "Force India"], timeline: [{t:"Red Bull", y:"2021-2025"}, {t:"Racing Point", y:"2019-2020"}, {t:"Force India", y:"2014-2018"}, {t:"McLaren", y:"2013"}, {t:"Sauber", y:"2011-2012"}], country: "Mexico", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 6, stat_podiums: 39, stat_titles: 0, stat_starts: 281, stat_points: 1650, stat_fastest_laps: 12, stat_seasons: 15 },
            { id: "nico", name: "Nico Hulkenberg", teams: ["Sauber", "Haas", "Aston Martin", "Racing Point", "Renault", "Force India", "Williams"], timeline: [{t:"Sauber", y:"2025-"}, {t:"Haas", y:"2023-2024"}, {t:"Aston Martin", y:"2022"}, {t:"Racing Point", y:"2020"}, {t:"Renault", y:"2017-2019"}, {t:"Force India", y:"2014-2016"}, {t:"Sauber", y:"2013"}, {t:"Force India", y:"2012"}, {t:"Williams", y:"2010"}], country: "Germany", champion: false, wins: false, podiums: false, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 226, stat_points: 540, stat_fastest_laps: 2, stat_seasons: 13 },
            { id: "pierre", name: "Pierre Gasly", teams: ["Alpine", "AlphaTauri", "Red Bull", "Toro Rosso"], timeline: [{t:"Alpine", y:"2023-2025"}, {t:"AlphaTauri", y:"2020-2022"}, {t:"Red Bull", y:"2019"}, {t:"Toro Rosso", y:"2017-2019"}], country: "France", champion: false, wins: true, podiums: true, poles: false, win_monaco: false, win_monza: true, win_silverstone: false, win_spa: false, stat_wins: 1, stat_podiums: 5, stat_titles: 0, stat_starts: 156, stat_points: 410, stat_fastest_laps: 3, stat_seasons: 9 },
            { id: "esteban", name: "Esteban Ocon", teams: ["Haas", "Alpine", "Renault", "Force India", "Manor"], timeline: [{t:"Haas", y:"2025-"}, {t:"Alpine", y:"2021-2024"}, {t:"Renault", y:"2020"}, {t:"Force India", y:"2017-2018"}, {t:"Manor", y:"2016"}], country: "France", champion: false, wins: true, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 1, stat_podiums: 4, stat_titles: 0, stat_starts: 156, stat_points: 440, stat_fastest_laps: 1, stat_seasons: 9 },
            { id: "alex", name: "Alex Albon", teams: ["Williams", "Red Bull", "Toro Rosso"], timeline: [{t:"Williams", y:"2022-2025"}, {t:"Red Bull", y:"2019-2020"}, {t:"Toro Rosso", y:"2019"}], country: "Thailand", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 2, stat_titles: 0, stat_starts: 106, stat_points: 240, stat_fastest_laps: 0, stat_seasons: 6 },
            { id: "lance", name: "Lance Stroll", teams: ["Aston Martin", "Racing Point", "Williams"], timeline: [{t:"Aston Martin", y:"2021-2025"}, {t:"Racing Point", y:"2019-2020"}, {t:"Williams", y:"2017-2018"}], country: "Canada", champion: false, wins: false, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 3, stat_titles: 0, stat_starts: 166, stat_points: 295, stat_fastest_laps: 0, stat_seasons: 9 },
            { id: "yuki", name: "Yuki Tsunoda", teams: ["RB", "AlphaTauri"], timeline: [{t:"RB", y:"2024-2025"}, {t:"AlphaTauri", y:"2021-2023"}], country: "Japan", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 91, stat_points: 85, stat_fastest_laps: 1, stat_seasons: 5 },
            { id: "colapinto", name: "Franco Colapinto", teams: ["Williams"], timeline: [{t:"Williams", y:"2024-2025"}], country: "Argentina", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 9, stat_points: 5, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "kimi_a", name: "Kimi Antonelli", teams: ["Mercedes"], timeline: [{t:"Mercedes", y:"2025-"}], country: "Italy", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 0, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "ollie", name: "Oliver Bearman", teams: ["Haas", "Ferrari"], timeline: [{t:"Haas", y:"2025-"}, {t:"Haas", y:"2024 (Sub)"}, {t:"Ferrari", y:"2024 (Sub)"}], country: "UK", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 3, stat_points: 7, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "gabriel", name: "Gabriel Bortoleto", teams: ["Sauber"], timeline: [{t:"Sauber", y:"2025-"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 0, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "jack", name: "Jack Doohan", teams: ["Alpine"], timeline: [{t:"Alpine", y:"2025-"}], country: "Australia", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 0, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "liam", name: "Liam Lawson", teams: ["RB", "AlphaTauri"], timeline: [{t:"RB", y:"2024-2025"}, {t:"AlphaTauri", y:"2023"}], country: "New Zealand", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 11, stat_points: 6, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "kubica", name: "Robert Kubica", teams: ["BMW Sauber", "Renault", "Williams", "Alfa Romeo"], timeline: [{t:"Alfa Romeo", y:"2021"}, {t:"Williams", y:"2019"}, {t:"Renault", y:"2010"}, {t:"BMW Sauber", y:"2006-2009"}], country: "Poland", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 1, stat_podiums: 12, stat_titles: 0, stat_starts: 99, stat_points: 274, stat_fastest_laps: 1, stat_seasons: 8 },
            { id: "devries", name: "Nyck de Vries", teams: ["Williams", "AlphaTauri"], timeline: [{t:"AlphaTauri", y:"2023"}, {t:"Williams", y:"2022"}], country: "Netherlands", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 11, stat_points: 2, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "latifi", name: "Nicholas Latifi", teams: ["Williams"], timeline: [{t:"Williams", y:"2020-2022"}], country: "Canada", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 61, stat_points: 9, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "mazepin", name: "Nikita Mazepin", teams: ["Haas"], timeline: [{t:"Haas", y:"2021"}], country: "Russia", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 21, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "mick", name: "Mick Schumacher", teams: ["Haas"], timeline: [{t:"Haas", y:"2021-2022"}], country: "Germany", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 43, stat_points: 12, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "gio", name: "Antonio Giovinazzi", teams: ["Alfa Romeo", "Sauber"], timeline: [{t:"Alfa Romeo", y:"2019-2021"}, {t:"Sauber", y:"2017"}], country: "Italy", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 62, stat_points: 21, stat_fastest_laps: 0, stat_seasons: 4 },
            { id: "sirotkin", name: "Sergey Sirotkin", teams: ["Williams"], timeline: [{t:"Williams", y:"2018"}], country: "Russia", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 21, stat_points: 1, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "hartley", name: "Brendon Hartley", teams: ["Toro Rosso"], timeline: [{t:"Toro Rosso", y:"2017-2018"}], country: "New Zealand", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 25, stat_points: 4, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "vandoorne", name: "Stoffel Vandoorne", teams: ["McLaren"], timeline: [{t:"McLaren", y:"2016-2018"}], country: "Belgium", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 41, stat_points: 26, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "ericsson", name: "Marcus Ericsson", teams: ["Sauber", "Caterham"], timeline: [{t:"Sauber", y:"2015-2018"}, {t:"Caterham", y:"2014"}], country: "Sweden", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 97, stat_points: 18, stat_fastest_laps: 0, stat_seasons: 5 },
            { id: "wehrlein", name: "Pascal Wehrlein", teams: ["Sauber", "Manor"], timeline: [{t:"Sauber", y:"2017"}, {t:"Manor", y:"2016"}], country: "Germany", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 39, stat_points: 6, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "nasr", name: "Felipe Nasr", teams: ["Sauber"], timeline: [{t:"Sauber", y:"2015-2016"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 39, stat_points: 29, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "palmer", name: "Jolyon Palmer", teams: ["Renault"], timeline: [{t:"Renault", y:"2016-2017"}], country: "UK", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 35, stat_points: 9, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "haryanto", name: "Rio Haryanto", teams: ["Manor"], timeline: [{t:"Manor", y:"2016"}], country: "ID", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 12, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "rossi", name: "Alexander Rossi", teams: ["Manor"], timeline: [{t:"Manor", y:"2015"}], country: "US", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 5, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "stevens", name: "Will Stevens", teams: ["Manor", "Caterham"], timeline: [{t:"Manor", y:"2015"}, {t:"Caterham", y:"2014"}], country: "UK", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 18, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "merhi", name: "Roberto Merhi", teams: ["Manor"], timeline: [{t:"Manor", y:"2015"}], country: "Spain", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 13, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "bianchi", name: "Jules Bianchi", teams: ["Marussia"], timeline: [{t:"Marussia", y:"2013-2014"}], country: "France", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 34, stat_points: 2, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "chilton", name: "Max Chilton", teams: ["Marussia"], timeline: [{t:"Marussia", y:"2013-2014"}], country: "UK", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 35, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "gutierrez", name: "Esteban Gutierrez", teams: ["Sauber", "Haas"], timeline: [{t:"Haas", y:"2016"}, {t:"Sauber", y:"2013-2014"}], country: "Mexico", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 59, stat_points: 6, stat_fastest_laps: 1, stat_seasons: 3 },
            { id: "vergine", name: "Jean-Eric Vergne", teams: ["Toro Rosso"], timeline: [{t:"Toro Rosso", y:"2012-2014"}], country: "France", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 58, stat_points: 51, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "pic", name: "Charles Pic", teams: ["Marussia", "Caterham"], timeline: [{t:"Caterham", y:"2013"}, {t:"Marussia", y:"2012"}], country: "France", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 39, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "vandergarde", name: "Giedo van der Garde", teams: ["Caterham"], timeline: [{t:"Caterham", y:"2013"}], country: "Netherlands", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 19, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "karthikeyan", name: "Narain Karthikeyan", teams: ["Jordan", "HRT"], timeline: [{t:"HRT", y:"2011-2012"}, {t:"Jordan", y:"2005"}], country: "India", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 46, stat_points: 5, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "chandhok", name: "Karun Chandhok", teams: ["HRT", "Lotus"], timeline: [{t:"Lotus", y:"2011"}, {t:"HRT", y:"2010"}], country: "India", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 11, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "digrassi", name: "Lucas di Grassi", teams: ["Virgin"], timeline: [{t:"Virgin", y:"2010"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 18, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "yamamoto", name: "Sakon Yamamoto", teams: ["Super Aguri", "Spyker", "HRT"], timeline: [{t:"HRT", y:"2010"}, {t:"Spyker", y:"2007"}, {t:"Super Aguri", y:"2006"}], country: "Japan", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 21, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "nakajima", name: "Kazuki Nakajima", teams: ["Williams"], timeline: [{t:"Williams", y:"2007-2009"}], country: "Japan", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 36, stat_points: 9, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "piquetjr", name: "Nelson Piquet Jr.", teams: ["Renault"], timeline: [{t:"Renault", y:"2008-2009"}], country: "Brazil", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 1, stat_titles: 0, stat_starts: 28, stat_points: 19, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "bourdais", name: "Sebastien Bourdais", teams: ["Toro Rosso"], timeline: [{t:"Toro Rosso", y:"2008-2009"}], country: "France", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 27, stat_points: 6, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "davidson", name: "Anthony Davidson", teams: ["Minardi", "BAR", "Super Aguri"], timeline: [{t:"Super Aguri", y:"2007-2008"}, {t:"BAR", y:"2005"}, {t:"Minardi", y:"2002"}], country: "UK", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 24, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 4 },
            { id: "albers", name: "Christijan Albers", teams: ["Minardi", "Midland", "Spyker"], timeline: [{t:"Spyker", y:"2007"}, {t:"Midland", y:"2006"}, {t:"Minardi", y:"2005"}], country: "Netherlands", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 46, stat_points: 4, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "monteiro", name: "Tiago Monteiro", teams: ["Jordan", "Midland"], timeline: [{t:"Midland", y:"2006"}, {t:"Jordan", y:"2005"}], country: "Portugal", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 1, stat_titles: 0, stat_starts: 37, stat_points: 7, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "doornbos", name: "Robert Doornbos", teams: ["Minardi", "Red Bull"], timeline: [{t:"Red Bull", y:"2006"}, {t:"Minardi", y:"2005"}], country: "Netherlands", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 11, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "ide", name: "Yuji Ide", teams: ["Super Aguri"], timeline: [{t:"Super Aguri", y:"2006"}], country: "Japan", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 4, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "montagny", name: "Franck Montagny", teams: ["Super Aguri"], timeline: [{t:"Super Aguri", y:"2006"}], country: "France", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 7, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "zonta", name: "Ricardo Zonta", teams: ["BAR", "Jordan", "Toyota"], timeline: [{t:"Toyota", y:"2004"}, {t:"Jordan", y:"2001"}, {t:"BAR", y:"1999-2000"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 36, stat_points: 3, stat_fastest_laps: 0, stat_seasons: 4 },
            { id: "pizzonia", name: "Antonio Pizzonia", teams: ["Jaguar", "Williams"], timeline: [{t:"Williams", y:"2004-2005"}, {t:"Jaguar", y:"2003"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 20, stat_points: 8, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "matta", name: "Cristiano da Matta", teams: ["Toyota"], timeline: [{t:"Toyota", y:"2003-2004"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 28, stat_points: 13, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "baumgartner", name: "Zsolt Baumgartner", teams: ["Jordan", "Minardi"], timeline: [{t:"Minardi", y:"2004"}, {t:"Jordan", y:"2003"}], country: "Hungary", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 20, stat_points: 1, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "bruni", name: "Gianmaria Bruni", teams: ["Minardi"], timeline: [{t:"Minardi", y:"2004"}], country: "Italy", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 18, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "pantano", name: "Giorgio Pantano", teams: ["Jordan"], timeline: [{t:"Jordan", y:"2004"}], country: "Italy", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 14, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "firman", name: "Ralph Firman", teams: ["Jordan"], timeline: [{t:"Jordan", y:"2003"}], country: "IE", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 14, stat_points: 1, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "wilson", name: "Justin Wilson", teams: ["Minardi", "Jaguar"], timeline: [{t:"Jaguar", y:"2003"}, {t:"Minardi", y:"2003"}], country: "UK", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 16, stat_points: 1, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "kiesa", name: "Nicolas Kiesa", teams: ["Minardi"], timeline: [{t:"Minardi", y:"2003"}], country: "Denmark", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 5, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "yoong", name: "Alex Yoong", teams: ["Minardi"], timeline: [{t:"Minardi", y:"2001-2002"}], country: "Malaysia", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 14, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "mcnish", name: "Allan McNish", teams: ["Toyota"], timeline: [{t:"Toyota", y:"2002"}], country: "UK", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 16, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 1 },
            { id: "bernoldi", name: "Enrique Bernoldi", teams: ["Arrows"], timeline: [{t:"Arrows", y:"2001-2002"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 28, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "marques", name: "Tarso Marques", teams: ["Minardi"], timeline: [{t:"Minardi", y:"2001"}, {t:"Minardi", y:"1996-1997"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 24, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "burti", name: "Luciano Burti", teams: ["Jaguar", "Prost"], timeline: [{t:"Prost", y:"2001"}, {t:"Jaguar", y:"2000-2001"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 14, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "valtteri", name: "Valtteri Bottas", teams: ["Sauber", "Mercedes", "Williams", "Alfa Romeo"], timeline: [{t:"Sauber/Alfa", y:"2022-2024"}, {t:"Mercedes", y:"2017-2021"}, {t:"Williams", y:"2013-2016"}], country: "Finland", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 10, stat_podiums: 67, stat_titles: 0, stat_starts: 246, stat_points: 1797, stat_fastest_laps: 19, stat_seasons: 12 },
            { id: "kevin", name: "Kevin Magnussen", teams: ["Haas", "Renault", "McLaren"], timeline: [{t:"Haas", y:"2022-2024"}, {t:"Haas", y:"2017-2020"}, {t:"Renault", y:"2016"}, {t:"McLaren", y:"2014-2015"}], country: "Denmark", champion: false, wins: false, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 1, stat_titles: 0, stat_starts: 186, stat_points: 200, stat_fastest_laps: 2, stat_seasons: 10 },
            { id: "zhou", name: "Guanyu Zhou", teams: ["Sauber", "Alfa Romeo"], timeline: [{t:"Sauber/Alfa", y:"2022-2024"}], country: "China", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 66, stat_points: 12, stat_fastest_laps: 2, stat_seasons: 3 },
            { id: "logan", name: "Logan Sargeant", teams: ["Williams"], timeline: [{t:"Williams", y:"2023-2024"}], country: "US", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 36, stat_points: 1, stat_fastest_laps: 0, stat_seasons: 2 },
            { id: "daniel", name: "Daniel Ricciardo", teams: ["Red Bull", "McLaren", "Renault", "RB", "Toro Rosso", "HRT", "AlphaTauri"], timeline: [{t:"RB/AlphaTauri", y:"2023-2024"}, {t:"McLaren", y:"2021-2022"}, {t:"Renault", y:"2019-2020"}, {t:"Red Bull", y:"2014-2018"}, {t:"Toro Rosso", y:"2012-2013"}, {t:"HRT", y:"2011"}], country: "Australia", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: false, win_spa: true, stat_wins: 8, stat_podiums: 32, stat_titles: 0, stat_starts: 258, stat_points: 1329, stat_fastest_laps: 17, stat_seasons: 14 },
            { id: "seb", name: "Sebastian Vettel", teams: ["Red Bull", "Ferrari", "Aston Martin", "Toro Rosso", "BMW Sauber"], timeline: [{t:"Aston Martin", y:"2021-2022"}, {t:"Ferrari", y:"2015-2020"}, {t:"Red Bull", y:"2009-2014"}, {t:"Toro Rosso", y:"2007-2008"}], country: "Germany", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 53, stat_podiums: 122, stat_titles: 4, stat_starts: 299, stat_points: 3098, stat_fastest_laps: 38, stat_seasons: 16 },
            { id: "kimi_r", name: "Kimi Raikkonen", teams: ["Ferrari", "McLaren", "Lotus", "Sauber", "Alfa Romeo"], timeline: [{t:"Alfa Romeo", y:"2019-2021"}, {t:"Ferrari", y:"2014-2018"}, {t:"Lotus", y:"2012-2013"}, {t:"Ferrari", y:"2007-2009"}, {t:"McLaren", y:"2002-2006"}, {t:"Sauber", y:"2001"}], country: "Finland", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: true, win_spa: true, stat_wins: 21, stat_podiums: 103, stat_titles: 1, stat_starts: 350, stat_points: 1873, stat_fastest_laps: 46, stat_seasons: 19 },
            { id: "rosberg", name: "Nico Rosberg", teams: ["Mercedes", "Williams"], timeline: [{t:"Mercedes", y:"2010-2016"}, {t:"Williams", y:"2006-2009"}], country: "Germany", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 23, stat_podiums: 57, stat_titles: 1, stat_starts: 206, stat_points: 1594, stat_fastest_laps: 20, stat_seasons: 11 },
            { id: "button", name: "Jenson Button", teams: ["McLaren", "Brawn", "Honda", "BAR", "Renault", "Benetton", "Williams"], timeline: [{t:"McLaren", y:"2010-2017"}, {t:"Brawn", y:"2009"}, {t:"Honda", y:"2006-2008"}, {t:"BAR", y:"2003-2005"}, {t:"Renault", y:"2002"}], country: "UK", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: false, win_spa: true, stat_wins: 15, stat_podiums: 50, stat_titles: 1, stat_starts: 306, stat_points: 1235, stat_fastest_laps: 8, stat_seasons: 18 },
            { id: "massa", name: "Felipe Massa", teams: ["Ferrari", "Williams", "Sauber"], timeline: [{t:"Williams", y:"2014-2017"}, {t:"Ferrari", y:"2006-2013"}, {t:"Sauber", y:"2002-2005"}], country: "Brazil", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: true, stat_wins: 11, stat_podiums: 41, stat_titles: 0, stat_starts: 269, stat_points: 1167, stat_fastest_laps: 15, stat_seasons: 15 },
            { id: "webber", name: "Mark Webber", teams: ["Red Bull", "Williams", "Jaguar", "Minardi"], timeline: [{t:"Red Bull", y:"2007-2013"}, {t:"Williams", y:"2005-2006"}, {t:"Jaguar", y:"2003-2004"}, {t:"Minardi", y:"2002"}], country: "Australia", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: true, win_spa: false, stat_wins: 9, stat_podiums: 42, stat_titles: 0, stat_starts: 215, stat_points: 1047, stat_fastest_laps: 19, stat_seasons: 12 },
            { id: "schumi", name: "Michael Schumacher", teams: ["Ferrari", "Mercedes", "Benetton", "Jordan"], timeline: [{t:"Mercedes", y:"2010-2012"}, {t:"Ferrari", y:"1996-2006"}, {t:"Benetton", y:"1991-1995"}, {t:"Jordan", y:"1991"}], country: "Germany", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 91, stat_podiums: 155, stat_titles: 7, stat_starts: 307, stat_points: 1566, stat_fastest_laps: 77, stat_seasons: 19 },
            { id: "rubens", name: "Rubens Barrichello", teams: ["Ferrari", "Brawn", "Williams", "Honda", "Jordan", "Stewart"], timeline: [{t:"Williams", y:"2010-2011"}, {t:"Brawn", y:"2009"}, {t:"Honda", y:"2006-2008"}, {t:"Ferrari", y:"2000-2005"}, {t:"Stewart", y:"1997-1999"}, {t:"Jordan", y:"1993-1996"}], country: "Brazil", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: true, win_silverstone: true, win_spa: false, stat_wins: 11, stat_podiums: 68, stat_titles: 0, stat_starts: 322, stat_points: 658, stat_fastest_laps: 17, stat_seasons: 19 },
            { id: "coulthard", name: "David Coulthard", teams: ["McLaren", "Red Bull", "Williams"], timeline: [{t:"Red Bull", y:"2005-2008"}, {t:"McLaren", y:"1996-2004"}, {t:"Williams", y:"1994-1995"}], country: "UK", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 13, stat_podiums: 62, stat_titles: 0, stat_starts: 246, stat_points: 535, stat_fastest_laps: 18, stat_seasons: 15 },
            { id: "mika", name: "Mika Hakkinen", teams: ["McLaren", "Lotus"], timeline: [{t:"McLaren", y:"1993-2001"}, {t:"Lotus", y:"1991-1992"}], country: "Finland", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: true, win_spa: true, stat_wins: 20, stat_podiums: 51, stat_titles: 2, stat_starts: 161, stat_points: 420, stat_fastest_laps: 25, stat_seasons: 11 },
            { id: "damon", name: "Damon Hill", teams: ["Williams", "Jordan", "Arrows", "Brabham"], timeline: [{t:"Jordan", y:"1998-1999"}, {t:"Arrows", y:"1997"}, {t:"Williams", y:"1993-1996"}], country: "UK", champion: true, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 22, stat_podiums: 42, stat_titles: 1, stat_starts: 115, stat_points: 360, stat_fastest_laps: 19, stat_seasons: 8 },
            { id: "jacques", name: "Jacques Villeneuve", teams: ["Williams", "BAR", "Sauber", "Renault", "BMW Sauber"], timeline: [{t:"BMW Sauber", y:"2006"}, {t:"Sauber", y:"2005"}, {t:"Renault", y:"2004"}, {t:"BAR", y:"1999-2003"}, {t:"Williams", y:"1996-1998"}], country: "Canada", champion: true, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: true, win_spa: false, stat_wins: 11, stat_podiums: 23, stat_titles: 1, stat_starts: 163, stat_points: 235, stat_fastest_laps: 9, stat_seasons: 11 },
            { id: "montoya", name: "Juan Pablo Montoya", teams: ["Williams", "McLaren"], timeline: [{t:"McLaren", y:"2005-2006"}, {t:"Williams", y:"2001-2004"}], country: "Colombia", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: false, stat_wins: 7, stat_podiums: 30, stat_titles: 0, stat_starts: 94, stat_points: 307, stat_fastest_laps: 12, stat_seasons: 6 },
            { id: "trulli", name: "Jarno Trulli", teams: ["Renault", "Toyota", "Jordan", "Prost", "Minardi", "Lotus"], timeline: [{t:"Lotus", y:"2010-2011"}, {t:"Toyota", y:"2004-2009"}, {t:"Renault", y:"2002-2004"}, {t:"Jordan", y:"2000-2001"}, {t:"Prost", y:"1997-1999"}], country: "Italy", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 1, stat_podiums: 11, stat_titles: 0, stat_starts: 252, stat_points: 246, stat_fastest_laps: 1, stat_seasons: 15 },
            { id: "fisichella", name: "Giancarlo Fisichella", teams: ["Renault", "Force India", "Jordan", "Benetton", "Sauber", "Minardi", "Ferrari"], timeline: [{t:"Ferrari", y:"2009"}, {t:"Force India", y:"2008-2009"}, {t:"Renault", y:"2005-2007"}, {t:"Sauber", y:"2004"}, {t:"Jordan", y:"2002-2003"}, {t:"Benetton", y:"1998-2001"}], country: "Italy", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 3, stat_podiums: 19, stat_titles: 0, stat_starts: 229, stat_points: 275, stat_fastest_laps: 2, stat_seasons: 14 },
            { id: "heidfeld", name: "Nick Heidfeld", teams: ["BMW Sauber", "Williams", "Sauber", "Jordan", "Prost", "Renault"], timeline: [{t:"Renault", y:"2011"}, {t:"Sauber", y:"2010"}, {t:"BMW Sauber", y:"2006-2009"}, {t:"Williams", y:"2005"}, {t:"Jordan", y:"2004"}, {t:"Sauber", y:"2001-2003"}], country: "Germany", champion: false, wins: false, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 13, stat_titles: 0, stat_starts: 183, stat_points: 259, stat_fastest_laps: 2, stat_seasons: 12 },
            { id: "ralf", name: "Ralf Schumacher", teams: ["Jordan", "Williams", "Toyota"], timeline: [{t:"Toyota", y:"2005-2007"}, {t:"Williams", y:"1999-2004"}, {t:"Jordan", y:"1997-1998"}], country: "Germany", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 6, stat_podiums: 27, stat_titles: 0, stat_starts: 180, stat_points: 329, stat_fastest_laps: 8, stat_seasons: 11 },
            { id: "senna", name: "Ayrton Senna", teams: ["McLaren", "Williams", "Lotus", "Toleman"], timeline: [{t:"Williams", y:"1994"}, {t:"McLaren", y:"1988-1993"}, {t:"Lotus", y:"1985-1987"}, {t:"Toleman", y:"1984"}], country: "Brazil", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 41, stat_podiums: 80, stat_titles: 3, stat_starts: 161, stat_points: 610, stat_fastest_laps: 19, stat_seasons: 11 },
            { id: "prost", name: "Alain Prost", teams: ["McLaren", "Ferrari", "Williams", "Renault"], timeline: [{t:"Williams", y:"1993"}, {t:"Ferrari", y:"1990-1991"}, {t:"McLaren", y:"1984-1989"}, {t:"Renault", y:"1981-1983"}], country: "France", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 51, stat_podiums: 106, stat_titles: 4, stat_starts: 199, stat_points: 768, stat_fastest_laps: 41, stat_seasons: 13 },
            { id: "mansell", name: "Nigel Mansell", teams: ["Williams", "Ferrari", "Lotus", "McLaren"], timeline: [{t:"McLaren", y:"1995"}, {t:"Williams", y:"1991-1992, 1994"}, {t:"Ferrari", y:"1989-1990"}, {t:"Williams", y:"1985-1988"}, {t:"Lotus", y:"1980-1984"}], country: "UK", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: true, win_spa: true, stat_wins: 31, stat_podiums: 59, stat_titles: 1, stat_starts: 187, stat_points: 482, stat_fastest_laps: 30, stat_seasons: 15 },
            { id: "piquet", name: "Nelson Piquet", teams: ["Brabham", "Williams", "Lotus", "Benetton"], timeline: [{t:"Benetton", y:"1990-1991"}, {t:"Lotus", y:"1988-1989"}, {t:"Williams", y:"1986-1987"}, {t:"Brabham", y:"1978-1985"}], country: "Brazil", champion: true, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: true, win_silverstone: false, win_spa: false, stat_wins: 23, stat_podiums: 60, stat_titles: 3, stat_starts: 204, stat_points: 481, stat_fastest_laps: 23, stat_seasons: 14 },
            { id: "berger", name: "Gerhard Berger", teams: ["Ferrari", "McLaren", "Benetton", "ATS", "Arrows"], timeline: [{t:"Benetton", y:"1996-1997"}, {t:"Ferrari", y:"1993-1995"}, {t:"McLaren", y:"1990-1992"}, {t:"Ferrari", y:"1987-1989"}, {t:"Benetton", y:"1986"}], country: "Austria", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: true, win_silverstone: false, win_spa: false, stat_wins: 10, stat_podiums: 48, stat_titles: 0, stat_starts: 210, stat_points: 385, stat_fastest_laps: 21, stat_seasons: 14 },
            { id: "alesi", name: "Jean Alesi", teams: ["Ferrari", "Benetton", "Sauber", "Jordan", "Tyrrell", "Prost"], timeline: [{t:"Jordan", y:"2001"}, {t:"Prost", y:"2000-2001"}, {t:"Sauber", y:"1998-1999"}, {t:"Benetton", y:"1996-1997"}, {t:"Ferrari", y:"1991-1995"}, {t:"Tyrrell", y:"1989-1990"}], country: "France", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 1, stat_podiums: 32, stat_titles: 0, stat_starts: 201, stat_points: 241, stat_fastest_laps: 4, stat_seasons: 13 },
            { id: "sato", name: "Takuma Sato", teams: ["Jordan", "BAR", "Super Aguri"], timeline: [{t:"Super Aguri", y:"2006-2008"}, {t:"BAR", y:"2003-2005"}, {t:"Jordan", y:"2002"}], country: "Japan", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 1, stat_titles: 0, stat_starts: 90, stat_points: 44, stat_fastest_laps: 0, stat_seasons: 7 },
            { id: "kobayashi", name: "Kamui Kobayashi", teams: ["Toyota", "Sauber", "Caterham"], timeline: [{t:"Caterham", y:"2014"}, {t:"Sauber", y:"2010-2012"}, {t:"Toyota", y:"2009"}], country: "Japan", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 1, stat_titles: 0, stat_starts: 75, stat_points: 125, stat_fastest_laps: 1, stat_seasons: 5 },
            { id: "maldonado", name: "Pastor Maldonado", teams: ["Williams", "Lotus"], timeline: [{t:"Lotus", y:"2014-2015"}, {t:"Williams", y:"2011-2013"}], country: "VE", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 1, stat_podiums: 1, stat_titles: 0, stat_starts: 95, stat_points: 76, stat_fastest_laps: 0, stat_seasons: 5 },
            { id: "sutil", name: "Adrian Sutil", teams: ["Spyker", "Force India", "Sauber"], timeline: [{t:"Sauber", y:"2014"}, {t:"Force India", y:"2013"}, {t:"Force India", y:"2007-2011"}, {t:"Spyker", y:"2007"}], country: "Germany", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 128, stat_points: 124, stat_fastest_laps: 1, stat_seasons: 7 },
            { id: "diresta", name: "Paul di Resta", teams: ["Force India", "Williams"], timeline: [{t:"Williams", y:"2017"}, {t:"Force India", y:"2011-2013"}], country: "UK", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 59, stat_points: 121, stat_fastest_laps: 0, stat_seasons: 4 },
            { id: "kovalainen", name: "Heikki Kovalainen", teams: ["Renault", "McLaren", "Lotus", "Caterham"], timeline: [{t:"Lotus", y:"2013"}, {t:"Caterham", y:"2010-2012"}, {t:"McLaren", y:"2008-2009"}, {t:"Renault", y:"2007"}], country: "Finland", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 1, stat_podiums: 4, stat_titles: 0, stat_starts: 111, stat_points: 105, stat_fastest_laps: 2, stat_seasons: 7 },
            { id: "grosjean", name: "Romain Grosjean", teams: ["Haas", "Lotus", "Renault"], timeline: [{t:"Haas", y:"2016-2020"}, {t:"Lotus", y:"2012-2015"}, {t:"Renault", y:"2009"}], country: "France", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 10, stat_titles: 0, stat_starts: 179, stat_points: 391, stat_fastest_laps: 1, stat_seasons: 10 },
            { id: "kvyat", name: "Daniil Kvyat", teams: ["Red Bull", "Toro Rosso", "AlphaTauri"], timeline: [{t:"AlphaTauri", y:"2020"}, {t:"Toro Rosso", y:"2019"}, {t:"Toro Rosso", y:"2016-2017"}, {t:"Red Bull", y:"2015-2016"}, {t:"Toro Rosso", y:"2014"}], country: "Russia", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 3, stat_titles: 0, stat_starts: 110, stat_points: 202, stat_fastest_laps: 1, stat_seasons: 6 },
            { id: "buemi", name: "Sebastien Buemi", teams: ["Toro Rosso"], timeline: [{t:"Toro Rosso", y:"2009-2011"}], country: "Switzerland", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 55, stat_points: 29, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "alguersuari", name: "Jaime Alguersuari", teams: ["Toro Rosso"], timeline: [{t:"Toro Rosso", y:"2009-2011"}], country: "Spain", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 46, stat_points: 31, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "petrov", name: "Vitaly Petrov", teams: ["Renault", "Lotus", "Caterham"], timeline: [{t:"Caterham", y:"2012"}, {t:"Renault/Lotus", y:"2010-2011"}], country: "Russia", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 1, stat_titles: 0, stat_starts: 57, stat_points: 64, stat_fastest_laps: 1, stat_seasons: 3 },
            { id: "bruno_senna", name: "Bruno Senna", teams: ["HRT", "Renault", "Williams"], timeline: [{t:"Williams", y:"2012"}, {t:"Renault", y:"2011"}, {t:"HRT", y:"2010"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 46, stat_points: 33, stat_fastest_laps: 1, stat_seasons: 3 },
            { id: "glock", name: "Timo Glock", teams: ["Jordan", "Toyota", "Virgin", "Marussia"], timeline: [{t:"Marussia", y:"2012"}, {t:"Virgin", y:"2010-2011"}, {t:"Toyota", y:"2008-2009"}, {t:"Jordan", y:"2004"}], country: "Germany", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 3, stat_titles: 0, stat_starts: 91, stat_points: 51, stat_fastest_laps: 1, stat_seasons: 5 },
            { id: "liuzzi", name: "Vitantonio Liuzzi", teams: ["Red Bull", "Toro Rosso", "Force India", "HRT"], timeline: [{t:"HRT", y:"2011"}, {t:"Force India", y:"2009-2010"}, {t:"Toro Rosso", y:"2006-2007"}, {t:"Red Bull", y:"2005"}], country: "Italy", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 80, stat_points: 26, stat_fastest_laps: 0, stat_seasons: 6 },
            { id: "panis", name: "Olivier Panis", teams: ["Ligier", "Prost", "BAR", "Toyota"], timeline: [{t:"Toyota", y:"2003-2004"}, {t:"BAR", y:"2001-2002"}, {t:"Prost", y:"1997-1999"}, {t:"Ligier", y:"1994-1996"}], country: "France", champion: false, wins: true, podiums: true, poles: false, win_monaco: true, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 1, stat_podiums: 5, stat_titles: 0, stat_starts: 157, stat_points: 76, stat_fastest_laps: 0, stat_seasons: 11 },
            { id: "herbert", name: "Johnny Herbert", teams: ["Benetton", "Tyrrell", "Lotus", "Ligier", "Sauber", "Stewart", "Jaguar"], timeline: [{t:"Jaguar", y:"2000"}, {t:"Stewart", y:"1999"}, {t:"Sauber", y:"1996-1998"}, {t:"Benetton", y:"1995"}], country: "UK", champion: false, wins: true, podiums: true, poles: false, win_monaco: false, win_monza: true, win_silverstone: true, win_spa: false, stat_wins: 3, stat_podiums: 7, stat_titles: 0, stat_starts: 161, stat_points: 98, stat_fastest_laps: 0, stat_seasons: 12 },
            { id: "irvine", name: "Eddie Irvine", teams: ["Jordan", "Ferrari", "Jaguar"], timeline: [{t:"Jaguar", y:"2000-2002"}, {t:"Ferrari", y:"1996-1999"}, {t:"Jordan", y:"1993-1995"}], country: "UK", champion: false, wins: true, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 4, stat_podiums: 26, stat_titles: 0, stat_starts: 147, stat_points: 191, stat_fastest_laps: 1, stat_seasons: 10 },
            { id: "frentzen", name: "Heinz-Harald Frentzen", teams: ["Sauber", "Williams", "Jordan", "Prost", "Arrows"], timeline: [{t:"Sauber", y:"2003"}, {t:"Arrows", y:"2002"}, {t:"Prost", y:"2001"}, {t:"Jordan", y:"1999-2001"}, {t:"Williams", y:"1997-1998"}, {t:"Sauber", y:"1994-1996"}], country: "Germany", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: true, win_silverstone: false, win_spa: false, stat_wins: 3, stat_podiums: 18, stat_titles: 0, stat_starts: 156, stat_points: 174, stat_fastest_laps: 6, stat_seasons: 10 },
            { id: "salo", name: "Mika Salo", teams: ["Lotus", "Tyrrell", "Arrows", "BAR", "Ferrari", "Sauber", "Toyota"], timeline: [{t:"Toyota", y:"2002"}, {t:"Sauber", y:"2000"}, {t:"Ferrari", y:"1999"}], country: "Finland", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 2, stat_titles: 0, stat_starts: 109, stat_points: 33, stat_fastest_laps: 0, stat_seasons: 8 },
            { id: "diniz", name: "Pedro Diniz", teams: ["Forti", "Ligier", "Arrows", "Sauber"], timeline: [{t:"Sauber", y:"1999-2000"}, {t:"Arrows", y:"1997-1998"}, {t:"Ligier", y:"1996"}], country: "Brazil", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 98, stat_points: 10, stat_fastest_laps: 0, stat_seasons: 6 },
            { id: "verstappen_jos", name: "Jos Verstappen", teams: ["Benetton", "Simtek", "Footwork", "Tyrrell", "Stewart", "Arrows", "Minardi"], timeline: [{t:"Minardi", y:"2003"}, {t:"Arrows", y:"2000-2001"}, {t:"Stewart", y:"1998"}, {t:"Tyrrell", y:"1997"}, {t:"Benetton", y:"1994"}], country: "Netherlands", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 2, stat_titles: 0, stat_starts: 106, stat_points: 17, stat_fastest_laps: 0, stat_seasons: 8 },
            { id: "rosa", name: "Pedro de la Rosa", teams: ["Arrows", "Jaguar", "McLaren", "Sauber", "HRT"], timeline: [{t:"HRT", y:"2012"}, {t:"Sauber", y:"2010-2011"}, {t:"McLaren", y:"2005-2006"}, {t:"Jaguar", y:"2001-2002"}, {t:"Arrows", y:"1999-2000"}], country: "Spain", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 1, stat_titles: 0, stat_starts: 104, stat_points: 35, stat_fastest_laps: 1, stat_seasons: 9 },
            { id: "wurz", name: "Alexander Wurz", teams: ["Benetton", "McLaren", "Williams"], timeline: [{t:"Williams", y:"2007"}, {t:"McLaren", y:"2005"}, {t:"Benetton", y:"1997-2000"}], country: "Austria", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 3, stat_titles: 0, stat_starts: 69, stat_points: 45, stat_fastest_laps: 1, stat_seasons: 6 },
            { id: "gene", name: "Marc Gene", teams: ["Minardi", "Williams"], timeline: [{t:"Williams", y:"2003-2004"}, {t:"Minardi", y:"1999-2000"}], country: "Spain", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 36, stat_points: 5, stat_fastest_laps: 0, stat_seasons: 3 },
            { id: "badoer", name: "Luca Badoer", teams: ["Scuderia Italia", "Minardi", "Forti", "Ferrari"], timeline: [{t:"Ferrari", y:"2009"}, {t:"Minardi", y:"1999"}, {t:"Forti", y:"1996"}, {t:"Minardi", y:"1995"}], country: "Italy", champion: false, wins: false, podiums: false, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 0, stat_titles: 0, stat_starts: 51, stat_points: 0, stat_fastest_laps: 0, stat_seasons: 5 },
            { id: "cesaris", name: "Andrea de Cesaris", teams: ["Alfa Romeo", "McLaren", "Ligier", "Minardi", "Brabham", "Rial", "Dallara", "Jordan", "Tyrrell", "Sauber"], timeline: [{t:"Sauber", y:"1994"}, {t:"Tyrrell", y:"1992-1993"}, {t:"Jordan", y:"1991"}], country: "Italy", champion: false, wins: false, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 5, stat_titles: 0, stat_starts: 208, stat_points: 59, stat_fastest_laps: 1, stat_seasons: 15 },
            { id: "brundle", name: "Martin Brundle", teams: ["Tyrrell", "Zakspeed", "Williams", "Brabham", "Benetton", "Ligier", "McLaren", "Jordan"], timeline: [{t:"Jordan", y:"1996"}, {t:"Ligier", y:"1995"}, {t:"McLaren", y:"1994"}, {t:"Ligier", y:"1993"}, {t:"Benetton", y:"1992"}], country: "UK", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 9, stat_titles: 0, stat_starts: 158, stat_points: 98, stat_fastest_laps: 0, stat_seasons: 12 },
            { id: "blundell", name: "Mark Blundell", teams: ["Brabham", "Ligier", "Tyrrell", "McLaren"], timeline: [{t:"McLaren", y:"1995"}, {t:"Tyrrell", y:"1994"}, {t:"Ligier", y:"1993"}, {t:"Brabham", y:"1991"}], country: "UK", champion: false, wins: false, podiums: true, poles: false, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 0, stat_podiums: 3, stat_titles: 0, stat_starts: 61, stat_points: 32, stat_fastest_laps: 0, stat_seasons: 4 },
            { id: "rosberg_k", name: "Keke Rosberg", teams: ["Williams", "McLaren", "Fittipaldi", "Wolf", "ATS", "Theodore"], timeline: [{t:"McLaren", y:"1986"}, {t:"Williams", y:"1982-1985"}, {t:"Fittipaldi", y:"1980-1981"}], country: "Finland", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 5, stat_podiums: 17, stat_titles: 1, stat_starts: 114, stat_points: 159, stat_fastest_laps: 3, stat_seasons: 9 },
            { id: "alboreto", name: "Michele Alboreto", teams: ["Ferrari", "Tyrrell", "Footwork", "Larrousse", "Minardi", "Lola"], timeline: [{t:"Minardi", y:"1994"}, {t:"Footwork", y:"1990-1992"}, {t:"Ferrari", y:"1984-1988"}, {t:"Tyrrell", y:"1981-1983"}], country: "Italy", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 5, stat_podiums: 23, stat_titles: 0, stat_starts: 194, stat_points: 186, stat_fastest_laps: 5, stat_seasons: 14 },
            { id: "patrese", name: "Riccardo Patrese", teams: ["Williams", "Brabham", "Benetton", "Alfa Romeo", "Arrows", "Shadow"], timeline: [{t:"Benetton", y:"1993"}, {t:"Williams", y:"1987-1992"}, {t:"Brabham", y:"1986-1987"}, {t:"Alfa Romeo", y:"1984-1985"}], country: "Italy", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 6, stat_podiums: 37, stat_titles: 0, stat_starts: 256, stat_points: 281, stat_fastest_laps: 13, stat_seasons: 17 },
            { id: "lauda", name: "Niki Lauda", teams: ["Ferrari", "McLaren", "Brabham", "March", "BRM"], timeline: [{t:"McLaren", y:"1982-1985"}, {t:"Brabham", y:"1978-1979"}, {t:"Ferrari", y:"1974-1977"}, {t:"BRM", y:"1973"}], country: "Austria", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: true, win_spa: false, stat_wins: 25, stat_podiums: 54, stat_titles: 3, stat_starts: 171, stat_points: 420, stat_fastest_laps: 24, stat_seasons: 13 },
            { id: "hunt", name: "James Hunt", teams: ["McLaren", "Hesketh", "Wolf"], timeline: [{t:"Wolf", y:"1979"}, {t:"McLaren", y:"1976-1978"}, {t:"Hesketh", y:"1973-1975"}], country: "UK", champion: true, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: true, win_spa: false, stat_wins: 10, stat_podiums: 23, stat_titles: 1, stat_starts: 92, stat_points: 179, stat_fastest_laps: 8, stat_seasons: 7 },
            { id: "stewart", name: "Jackie Stewart", teams: ["Tyrrell", "Matra", "BRM", "March"], timeline: [{t:"Tyrrell", y:"1970-1973"}, {t:"Matra", y:"1968-1969"}, {t:"BRM", y:"1965-1967"}], country: "UK", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: false, stat_wins: 27, stat_podiums: 43, stat_titles: 3, stat_starts: 99, stat_points: 360, stat_fastest_laps: 15, stat_seasons: 9 },
            { id: "fittipaldi", name: "Emerson Fittipaldi", teams: ["Lotus", "McLaren", "Fittipaldi"], timeline: [{t:"Fittipaldi", y:"1976-1980"}, {t:"McLaren", y:"1974-1975"}, {t:"Lotus", y:"1970-1973"}], country: "Brazil", champion: true, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: true, win_silverstone: true, win_spa: true, stat_wins: 14, stat_podiums: 35, stat_titles: 2, stat_starts: 144, stat_points: 281, stat_fastest_laps: 6, stat_seasons: 11 },
            { id: "andretti", name: "Mario Andretti", teams: ["Lotus", "Parnelli", "Ferrari", "Alfa Romeo", "Williams", "March"], timeline: [{t:"Ferrari", y:"1982"}, {t:"Alfa Romeo", y:"1981"}, {t:"Lotus", y:"1976-1980"}, {t:"Parnelli", y:"1974-1975"}, {t:"Ferrari", y:"1971-1972"}], country: "US", champion: true, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: true, win_silverstone: false, win_spa: false, stat_wins: 12, stat_podiums: 19, stat_titles: 1, stat_starts: 128, stat_points: 180, stat_fastest_laps: 10, stat_seasons: 14 },
            { id: "scheckter", name: "Jody Scheckter", teams: ["Ferrari", "Tyrrell", "Wolf", "McLaren"], timeline: [{t:"Ferrari", y:"1979-1980"}, {t:"Wolf", y:"1977-1978"}, {t:"Tyrrell", y:"1974-1976"}, {t:"McLaren", y:"1972-1973"}], country: "ZA", champion: true, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: true, win_silverstone: true, win_spa: false, stat_wins: 10, stat_podiums: 33, stat_titles: 1, stat_starts: 112, stat_points: 246, stat_fastest_laps: 5, stat_seasons: 9 },
            { id: "regazzoni", name: "Clay Regazzoni", teams: ["Ferrari", "Williams", "BRM", "Ensign", "Shadow"], timeline: [{t:"Williams", y:"1979"}, {t:"Shadow", y:"1978"}, {t:"Ferrari", y:"1974-1976"}, {t:"BRM", y:"1973"}], country: "Switzerland", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: true, win_silverstone: true, win_spa: false, stat_wins: 5, stat_podiums: 28, stat_titles: 0, stat_starts: 132, stat_points: 209, stat_fastest_laps: 15, stat_seasons: 11 },
            { id: "villeneuve_g", name: "Gilles Villeneuve", teams: ["Ferrari", "McLaren"], timeline: [{t:"Ferrari", y:"1977-1982"}, {t:"McLaren", y:"1977"}], country: "Canada", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 6, stat_podiums: 13, stat_titles: 0, stat_starts: 67, stat_points: 101, stat_fastest_laps: 8, stat_seasons: 6 },
            { id: "reutemann", name: "Carlos Reutemann", teams: ["Ferrari", "Williams", "Lotus", "Brabham"], timeline: [{t:"Williams", y:"1980-1982"}, {t:"Lotus", y:"1979"}, {t:"Ferrari", y:"1976-1978"}, {t:"Brabham", y:"1972-1976"}], country: "Argentina", champion: false, wins: true, podiums: true, poles: true, win_monaco: true, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 12, stat_podiums: 45, stat_titles: 0, stat_starts: 146, stat_points: 298, stat_fastest_laps: 6, stat_seasons: 11 },
            { id: "laffite", name: "Jacques Laffite", teams: ["Ligier", "Williams"], timeline: [{t:"Ligier", y:"1985-1986"}, {t:"Williams", y:"1983-1984"}, {t:"Ligier", y:"1976-1982"}, {t:"Williams", y:"1974-1975"}], country: "France", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 6, stat_podiums: 32, stat_titles: 0, stat_starts: 176, stat_points: 228, stat_fastest_laps: 7, stat_seasons: 13 },
            { id: "watson", name: "John Watson", teams: ["McLaren", "Brabham", "Penske", "Surtees", "Lotus"], timeline: [{t:"McLaren", y:"1979-1983, 1985"}, {t:"Brabham", y:"1977-1978"}, {t:"Penske", y:"1976"}], country: "UK", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: true, win_spa: true, stat_wins: 5, stat_podiums: 20, stat_titles: 0, stat_starts: 152, stat_points: 169, stat_fastest_laps: 5, stat_seasons: 12 },
            { id: "arnoux", name: "René Arnoux", teams: ["Ferrari", "Renault", "Ligier", "Martini", "Surtees"], timeline: [{t:"Ligier", y:"1986-1989"}, {t:"Ferrari", y:"1983-1985"}, {t:"Renault", y:"1979-1982"}], country: "France", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 7, stat_podiums: 22, stat_titles: 0, stat_starts: 149, stat_points: 181, stat_fastest_laps: 12, stat_seasons: 12 },
            { id: "tambay", name: "Patrick Tambay", teams: ["Ferrari", "Renault", "McLaren", "Theodore", "Ligier", "Haas Lola"], timeline: [{t:"Haas Lola", y:"1986"}, {t:"Renault", y:"1984-1985"}, {t:"Ferrari", y:"1982-1983"}, {t:"McLaren", y:"1978-1979"}], country: "France", champion: false, wins: true, podiums: true, poles: true, win_monaco: false, win_monza: false, win_silverstone: false, win_spa: false, stat_wins: 2, stat_podiums: 11, stat_titles: 0, stat_starts: 114, stat_points: 103, stat_fastest_laps: 2, stat_seasons: 9 }
        ];
        
        // --- ADD CALCULATED STATS ---
        drivers.forEach(d => {
            d.stat_teams_count = d.teams.length;
            d.stat_ppr = d.stat_starts > 0 ? (d.stat_points / d.stat_starts).toFixed(2) : 0;
            if (!d.timeline) d.timeline = d.teams.map(t => ({t: t, y: "???"}));
        });

        // --- CRITERIA POOL ---
        const criteriaPool = [
            { id: "Ferrari", labelId: "Ferrari", type: "team", icon: "fa-horse-head", color: "text-red-500" },
            { id: "Mercedes", labelId: "Mercedes", type: "team", icon: "fa-star", color: "text-cyan-400" },
            { id: "Red Bull", labelId: "Red Bull", type: "team", icon: "fa-bull", color: "text-blue-500" },
            { id: "McLaren", labelId: "McLaren", type: "team", icon: "fa-rocket", color: "text-orange-500" },
            { id: "Aston Martin", labelId: "Aston Martin", type: "team", icon: "fa-wings", color: "text-green-500" },
            { id: "Williams", labelId: "Williams", type: "team", icon: "fa-w", color: "text-blue-400" },
            { id: "Alpine", labelId: "Alpine", type: "team", icon: "fa-mountain", color: "text-pink-400" },
            { id: "Haas", labelId: "Haas", type: "team", icon: "fa-h-square", color: "text-white" },
            { id: "Sauber", labelId: "Sauber", type: "team", icon: "fa-circle", color: "text-green-400" },
            { id: "Renault", labelId: "Renault", type: "team", icon: "fa-diamond", color: "text-yellow-400" },
            { id: "Benetton", labelId: "Benetton", type: "team", icon: "fa-tshirt", color: "text-green-300" },
            { id: "Jordan", labelId: "Jordan", type: "team", icon: "fa-snake", color: "text-yellow-300" },
            { id: "Lotus", labelId: "Lotus", type: "team", icon: "fa-leaf", color: "text-black" },
            { id: "Minardi", labelId: "Minardi", type: "team", icon: "fa-car", color: "text-white" },
            { id: "Toro Rosso", labelId: "Toro Rosso", type: "team", icon: "fa-bull", color: "text-blue-300" },
            { id: "Toyota", labelId: "Toyota", type: "team", icon: "fa-circle", color: "text-red-600" },
            { id: "Jaguar", labelId: "Jaguar", type: "team", icon: "fa-cat", color: "text-green-600" },
            { id: "Arrows", labelId: "Arrows", type: "team", icon: "fa-arrow-right", color: "text-orange-300" },
            { id: "Tyrrell", labelId: "Tyrrell", type: "team", icon: "fa-T", color: "text-blue-800" },
            { id: "Ligier", labelId: "Ligier", type: "team", icon: "fa-smoking", color: "text-blue-600" },
            { id: "Brabham", labelId: "Brabham", type: "team", icon: "fa-chess-rook", color: "text-white" },
            { id: "Alfa Romeo", labelId: "Alfa Romeo", type: "team", icon: "fa-cross", color: "text-red-700" },
            { id: "UK", labelId: "UK", type: "country", icon: "fa-flag" },
            { id: "Germany", labelId: "DE", type: "country", icon: "fa-flag" },
            { id: "Brazil", labelId: "BR", type: "country", icon: "fa-flag" },
            { id: "Finland", labelId: "FI", type: "country", icon: "fa-flag" },
            { id: "Spain", labelId: "ES", type: "country", icon: "fa-flag" },
            { id: "Netherlands", labelId: "NL", type: "country", icon: "fa-flag" },
            { id: "France", labelId: "FR", type: "country", icon: "fa-flag" },
            { id: "Australia", labelId: "AU", type: "country", icon: "fa-flag" },
            { id: "Italy", labelId: "IT", type: "country", icon: "fa-flag" },
            { id: "Japan", labelId: "JP", type: "country", icon: "fa-flag" },
            { id: "champion", labelId: "champion", type: "fact", icon: "fa-trophy" },
            { id: "wins", labelId: "wins", type: "fact", icon: "fa-medal" },
            { id: "podiums", labelId: "podiums", type: "fact", icon: "fa-award" },
            { id: "poles", labelId: "poles", type: "fact", icon: "fa-stopwatch" },
            { id: "win_monaco", labelId: "win_monaco", type: "fact", icon: "fa-crown" },
            { id: "win_monza", labelId: "win_monza", type: "fact", icon: "fa-flag-checkered" },
            { id: "win_spa", labelId: "win_spa", type: "fact", icon: "fa-water" },
            { id: "win_silverstone", labelId: "win_silverstone", type: "fact", icon: "fa-road" }
        ];

        // --- GAME STATE ---
        let currentMode = 'versus'; 
        let subMode = 'infinite'; 
        let currentRowCriteria = [];
        let currentColCriteria = [];
        let lives = 3;
        let turn = 1; 
        let selectedCell = null;
        let boardState = Array(3).fill(null).map(() => Array(3).fill(null));
        let usedDriverIds = []; 

        // TRIVIA STATES
        let triviaTarget = null; 
        let triviaScore = 0;
        let triviaRound = 0;
        let triviaMaxRounds = 5; 
        let triviaOptionA = null; 
        let triviaOptionB = null; 
        let triviaStat = null;
        let triviaLives = 3; 
        let filteredDriversList = [];
        let keyboardSelectedIndex = -1;

        // --- UTILS & LANG ---
        function toggleLanguage() {
            currentLang = currentLang === 'it' ? 'en' : 'it';
            document.getElementById('lang-indicator').innerText = currentLang.toUpperCase();
            updateUIText();
            if (!document.getElementById('game-screen').classList.contains('hidden')) {
                renderHeaders();
                updateStatsUI();
            }
            if (!document.getElementById('trivia-screen').classList.contains('hidden')) {
                if(currentMode === 'compare') renderCompareUI();
                if(currentMode === 'career') renderCareerUI();
            }
        }
        function t(key) { return translations[currentLang][key] || key; }
        function updateUIText() {
            document.querySelectorAll('[data-i18n]').forEach(el => {
                el.innerText = t(el.getAttribute('data-i18n'));
            });
        }
        function getDailySeed() {
            const d = new Date();
            return d.getFullYear() * 10000 + (d.getMonth() + 1) * 100 + d.getDate();
        }
        function seededRandom(seed) {
            const x = Math.sin(seed++) * 10000;
            return x - Math.floor(x);
        }

        // --- LOCAL STORAGE & DAILY LIMIT ---
        const STORAGE_KEY_CAREER = 'f1grid_daily_career_last_played';
        const STORAGE_KEY_COMPARE = 'f1grid_daily_compare_last_played';

        function checkDailyLimit(mode) {
            const today = new Date().toISOString().split('T')[0]; // YYYY-MM-DD
            const key = mode === 'career' ? STORAGE_KEY_CAREER : STORAGE_KEY_COMPARE;
            const lastPlayed = localStorage.getItem(key);
            return lastPlayed === today;
        }

        function setDailyPlayed(mode) {
            const today = new Date().toISOString().split('T')[0];
            const key = mode === 'career' ? STORAGE_KEY_CAREER : STORAGE_KEY_COMPARE;
            localStorage.setItem(key, today);
        }

        // --- NAVIGATION ---
        let tempPendingMode = '';
        function showSubMenu(modeKey) {
            tempPendingMode = modeKey;
            document.getElementById('submenu-modal').classList.remove('hidden');
        }
        function closeSubMenu() {
            document.getElementById('submenu-modal').classList.add('hidden');
        }
        function selectSubMode(sm) {
            closeSubMenu();
            startGame(tempPendingMode, sm);
        }

        function startGame(mode, sm = 'infinite') {
            SoundManager.play('start'); // SOUND: Start Game
            currentMode = mode;
            subMode = sm;
            
            if ((mode === 'career' || mode === 'compare') && sm === 'daily') {
                if (checkDailyLimit(mode)) {
                    document.getElementById('daily-limit-overlay').classList.remove('hidden');
                    return;
                }
            }

            document.getElementById('main-menu').classList.add('hidden');
            document.getElementById('game-over-overlay').classList.add('hidden');
            document.getElementById('daily-limit-overlay').classList.add('hidden');

            if (mode === 'career' || mode === 'compare') {
                document.getElementById('trivia-screen').classList.remove('hidden');
                document.getElementById('trivia-screen').classList.add('flex');
                initTrivia();
            } else {
                document.getElementById('game-screen').classList.remove('hidden');
                document.getElementById('game-screen').classList.add('flex');
                initGame();
            }
        }

        function backToMenu() {
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('flex');
            document.getElementById('trivia-screen').classList.add('hidden');
            document.getElementById('trivia-screen').classList.remove('flex');
            document.getElementById('main-menu').classList.remove('hidden');
            document.getElementById('game-over-overlay').classList.add('hidden');
            document.getElementById('daily-limit-overlay').classList.add('hidden');
        }

        function resetBoard() {
            if (currentMode === 'career' || currentMode === 'compare') initTrivia();
            else initGame();
        }

        // --- GRID LOGIC ---
        function checkCriterionMatch(driver, criterion) {
            if (criterion.type === 'team') return driver.teams.includes(criterion.id);
            if (criterion.type === 'country') return driver.country === criterion.id;
            if (criterion.type === 'fact') return driver[criterion.id] === true;
            return false;
        }
        function isMatch(driver, crit1, crit2) { return checkCriterionMatch(driver, crit1) && checkCriterionMatch(driver, crit2); }
        
        // --- UPDATED SOLVABILITY CHECK (MIN 3) ---
        function isSolvable(rCrits, cCrits) {
            for (let r = 0; r < 3; r++) {
                for (let c = 0; c < 3; c++) {
                    // REQUIREMENT: Must have at least 3 drivers for this cell
                    const count = drivers.filter(d => isMatch(d, rCrits[r], cCrits[c])).length;
                    if (count < 3) return false;
                }
            }
            return true;
        }

        function initGame() {
            boardState = Array(3).fill(null).map(() => Array(3).fill(null));
            usedDriverIds = [];
            document.getElementById('game-over-overlay').classList.add('hidden');
            
            const statsContainer = document.getElementById('stats-container');
            const turnIndicator = document.getElementById('turn-indicator');
            
            if (currentMode === 'solo') {
                lives = 3;
                turnIndicator.classList.add('hidden');
                updateStatsUI();
            } else if (currentMode === 'versus') {
                turn = 1;
                turnIndicator.classList.remove('hidden');
                statsContainer.innerHTML = ''; 
                updateTurnUI();
            }

            for (let r = 0; r < 3; r++) {
                for (let c = 0; c < 3; c++) {
                    const btn = document.getElementById(`cell-${r}-${c}`);
                    btn.innerHTML = `<span class="text-gray-600 text-2xl group-hover:text-white transition-colors">+</span>`;
                    btn.className = "cell-btn bg-gray-800 rounded-xl border-2 border-gray-700 relative overflow-hidden group cursor-pointer";
                    btn.disabled = false;
                }
            }
            generateCriteria();
            renderHeaders();
        }

        function generateCriteria() {
            let selectedCriteria = [];
            let rCrits, cCrits;
            const allAvailable = [...criteriaPool];
            let attempts = 0;
            // More strict generation (Min 3) might take more tries
            do {
                selectedCriteria = [];
                const shuffledPool = [...allAvailable].sort(() => 0.5 - Math.random());
                selectedCriteria = shuffledPool.slice(0, 6);
                rCrits = selectedCriteria.slice(0, 3);
                cCrits = selectedCriteria.slice(3, 6);
                attempts++;
            } while (!isSolvable(rCrits, cCrits) && attempts < 2000);
            
            if (attempts >= 2000) console.warn("Could not find perfectly >3 solution");
            
            currentRowCriteria = rCrits;
            currentColCriteria = cCrits;
        }

        function getCriterionDisplay(criterion) {
            return `
                <div class="flex flex-col items-center justify-center h-full p-1">
                    <span class="text-gray-500 text-[8px] uppercase tracking-widest mb-1">${t(`cat_${criterion.type}`)}</span>
                    <span class="text-[10px] sm:text-xs font-bold ${criterion.color || 'text-white'} text-center leading-tight">
                        <i class="fas ${criterion.icon} text-xs mr-1"></i>
                        ${t(criterion.labelId || criterion.id)}
                    </span>
                </div>
            `;
        }

        function renderHeaders() {
            for (let i = 0; i < 3; i++) {
                document.getElementById(`row-header-${i}`).innerHTML = getCriterionDisplay(currentRowCriteria[i]);
                document.getElementById(`col-header-${i}`).innerHTML = getCriterionDisplay(currentColCriteria[i]);
            }
        }

        function updateStatsUI() {
            if (currentMode === 'solo') {
                document.getElementById('stats-container').innerHTML = `<i class="fas fa-heart text-red-500"></i><span class="font-bold text-xl text-white">${lives}</span>`;
            }
        }

        function updateTurnUI() {
            const el = document.getElementById('turn-indicator');
            if (turn === 1) {
                el.innerText = t('turn_p1');
                el.className = "text-blue-400 font-bold text-sm animate-pulse";
            } else {
                el.innerText = t('turn_p2');
                el.className = "text-red-400 font-bold text-sm animate-pulse";
            }
        }

        function handleCellClick(row, col) {
            SoundManager.play('click');
            if (currentMode === 'solo' && lives <= 0) return;
            if (currentMode === 'versus' && boardState[row][col]) return;
            selectedCell = { r: row, c: col };
            document.getElementById('driver-search').value = '';
            keyboardSelectedIndex = -1; 
            renderDriversList();
            document.getElementById('modal').classList.remove('hidden');
            setTimeout(() => document.getElementById('driver-search').focus(), 100);
        }

        function selectDriver(driverId) {
            if (!selectedCell && currentMode !== 'career') return; 
            if (currentMode === 'career') { checkTriviaAnswer(driverId); return; }
            if (usedDriverIds.includes(driverId)) return; 

            const driver = drivers.find(d => d.id === driverId);
            const rowCrit = currentRowCriteria[selectedCell.r];
            const colCrit = currentColCriteria[selectedCell.c];
            const btn = document.getElementById(`cell-${selectedCell.r}-${selectedCell.c}`);

            if (isMatch(driver, rowCrit, colCrit)) {
                SoundManager.play('success'); // SOUND: Correct
                usedDriverIds.push(driverId); 
                let styleClass = '';
                if (currentMode === 'versus') {
                    if (turn === 1) { styleClass = 'p1-owned'; boardState[selectedCell.r][selectedCell.c] = 1; }
                    else { styleClass = 'p2-owned'; boardState[selectedCell.r][selectedCell.c] = 2; }
                    turn = turn === 1 ? 2 : 1;
                    updateTurnUI();
                } else {
                    styleClass = 'solo-correct';
                    boardState[selectedCell.r][selectedCell.c] = 'ok';
                }
                btn.innerHTML = `<div class="flex flex-col items-center justify-center w-full h-full p-1"><span class="font-bold text-xs sm:text-sm text-center leading-none text-white">${driver.name}</span></div>`;
                btn.className = `cell-btn rounded-xl border-2 relative overflow-hidden ${styleClass}`;
                btn.disabled = true;
                checkWinCondition();
            } else {
                SoundManager.play('error'); // SOUND: Error
                btn.classList.add('wrong-answer');
                setTimeout(() => btn.classList.remove('wrong-answer'), 500);
                if (currentMode === 'solo') {
                    lives--;
                    updateStatsUI();
                    if (lives <= 0) gameOver(false);
                } else if (currentMode === 'versus') {
                    turn = turn === 1 ? 2 : 1;
                    updateTurnUI();
                }
            }
            closeModal();
        }

        function checkWinCondition() {
            if (currentMode === 'versus') {
                const b = boardState;
                const checkWinner = (p) => {
                    return (b[0].every(c=>c===p) || b[1].every(c=>c===p) || b[2].every(c=>c===p)) ||
                           ([0,1,2].some(c => b[0][c]===p && b[1][c]===p && b[2][c]===p)) ||
                           (b[0][0]===p && b[1][1]===p && b[2][2]===p) || (b[0][2]===p && b[1][1]===p && b[2][0]===p);
                };
                if (checkWinner(1)) gameOver(true, 1);
                else if (checkWinner(2)) gameOver(true, 2);
                else if (b.flat().every(c => c !== null)) gameOver(false, 0); 
            } else {
                if (boardState.flat().every(c => c !== null)) gameOver(true);
            }
        }

        function gameOver(win, player) {
            const overlay = document.getElementById('game-over-overlay');
            const title = document.getElementById('game-over-title');
            const msg = document.getElementById('game-over-message');
            
            if (win || (player && player > 0)) {
                SoundManager.play('win'); // SOUND: Victory
            } else {
                SoundManager.play('gameover'); // SOUND: Game Over
            }

            overlay.classList.remove('hidden');
            if (currentMode === 'versus') {
                if (player === 1) { title.innerText = "PLAYER 1 " + t('win_msg'); title.className = "text-4xl font-bold mb-4 text-blue-400"; }
                else if (player === 2) { title.innerText = "PLAYER 2 " + t('win_msg'); title.className = "text-4xl font-bold mb-4 text-red-500"; }
                else { title.innerText = t('draw_msg'); title.className = "text-4xl font-bold mb-4 text-gray-200"; }
                msg.innerText = "";
            } else {
                if (win) { title.innerText = "POLE POSITION!"; title.className = "text-4xl font-bold mb-4 text-green-400"; msg.innerText = ""; }
                else { title.innerText = "DNS"; title.className = "text-4xl font-bold mb-4 text-red-500"; msg.innerText = "Game Over"; }
            }
        }

        // --- TRIVIA LOGIC ---

        function initTrivia() {
            triviaRound = 0;
            triviaScore = 0;
            document.getElementById('trivia-next-btn').classList.add('hidden');
            nextTriviaRound();
        }

        function nextTriviaRound() {
            triviaRound++;
            document.getElementById('trivia-next-btn').classList.add('hidden');
            const content = document.getElementById('trivia-content');
            const scoreEl = document.getElementById('trivia-score');

            if (subMode === 'daily' && triviaRound > triviaMaxRounds) {
                // DAILY COMPLETED
                setDailyPlayed(currentMode);
                SoundManager.play('win');
                content.innerHTML = `<h3 class="text-3xl font-bold mb-4">Risultati di Oggi</h3><p class="text-6xl font-black mb-4 ${triviaScore >= 3 ? 'text-green-500':'text-red-500'}">${triviaScore}/${triviaMaxRounds}</p><p class="text-gray-400">Torna domani!</p>`;
                document.getElementById('trivia-title').innerText = "";
                return;
            }

            scoreEl.innerText = subMode === 'daily' ? `${triviaScore}/${triviaMaxRounds}` : `${triviaScore} (Streak)`;

            if (currentMode === 'career') setupCareerRound();
            else if (currentMode === 'compare') setupCompareRound();
        }

        // --- CAREER (TIMELINE) UI ---
        function setupCareerRound() {
            triviaLives = 3; 
            updateTriviaLivesUI();

            let seed = subMode === 'daily' ? getDailySeed() + triviaRound : Math.random() * 10000;
            triviaTarget = subMode === 'daily' ? drivers[Math.floor((seed % drivers.length))] : drivers[Math.floor(Math.random() * drivers.length)];
            
            if (!triviaTarget.timeline) {
                triviaTarget.timeline = triviaTarget.teams.map(t => ({t: t, y: "???"}));
            }

            renderCareerUI();
        }

        function updateTriviaLivesUI() {
            const container = document.getElementById('trivia-lives-container');
            if (currentMode === 'career') {
                container.classList.remove('hidden');
                container.innerHTML = '';
                for(let i=0; i<3; i++) {
                    const heart = document.createElement('i');
                    heart.className = i < triviaLives ? "fas fa-heart" : "far fa-heart opacity-50";
                    container.appendChild(heart);
                }
            } else {
                container.classList.add('hidden');
            }
        }

        function renderCareerUI() {
            const content = document.getElementById('trivia-content');
            const title = document.getElementById('trivia-title');
            title.innerText = t('mode_career_title');

            let timelineHtml = `<div class="relative pl-2 text-left w-full max-w-xs mx-auto"><div class="timeline-line"></div>`;
            
            triviaTarget.timeline.forEach((item, idx) => {
                timelineHtml += `
                    <div class="timeline-item slide-in" style="animation-delay: ${idx * 100}ms">
                        <div class="timeline-dot bg-gray-600"></div>
                        <div class="bg-gray-800 p-3 rounded-lg border border-gray-600 shadow-lg">
                            <span class="font-bold text-white text-lg block">${item.t}</span>
                            <span class="text-xs text-yellow-400 font-bold uppercase tracking-wider">${item.y}</span>
                        </div>
                    </div>
                `;
            });
            timelineHtml += `</div>`;

            content.innerHTML = `
                <div class="mb-4 w-full overflow-y-auto custom-scroll" style="max-height: 40vh;">
                    <p class="text-sm text-gray-400 uppercase tracking-widest mb-4 sticky top-0 bg-gray-900/95 py-2 z-20 w-full text-center border-b border-gray-700">${t('career_path')}</p>
                    ${timelineHtml}
                </div>
                <button onclick="SoundManager.play('click'); openTriviaSearch()" class="bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform hover:scale-105 animate-pulse mt-auto">
                    <i class="fas fa-search mr-2"></i> ${t('btn_guess')}
                </button>
                <div id="trivia-feedback" class="mt-4 font-bold text-xl min-h-[30px] w-full text-center"></div>
            `;
        }

        // --- COMPARE (FACE OFF) UI ---
        function setupCompareRound() {
            const stats = [
                { key: 'stat_wins', label: 'stat_wins' },
                { key: 'stat_podiums', label: 'stat_podiums' },
                { key: 'stat_titles', label: 'stat_titles' },
                { key: 'stat_starts', label: 'stat_starts' },
                { key: 'stat_points', label: 'stat_points' },
                { key: 'stat_fastest_laps', label: 'stat_fastest_laps' },
                { key: 'stat_seasons', label: 'stat_seasons' },
                { key: 'stat_teams_count', label: 'stat_teams_count' },
                { key: 'stat_ppr', label: 'stat_ppr' }
            ];
            triviaStat = stats[Math.floor(Math.random() * stats.length)];

            const d1 = drivers[Math.floor(Math.random() * drivers.length)];
            triviaOptionA = d1;

            let attempts = 0;
            let d2 = null;
            while (!d2 && attempts < 100) {
                const candidate = drivers[Math.floor(Math.random() * drivers.length)];
                if (candidate.id === d1.id) continue;
                if (candidate[triviaStat.key] === undefined) continue;

                const val1 = parseFloat(d1[triviaStat.key]) || 0;
                const val2 = parseFloat(candidate[triviaStat.key]) || 0;
                
                const diff = Math.abs(val1 - val2);
                const maxVal = Math.max(val1, val2, 1);
                
                if (diff <= (maxVal * 0.2)) { 
                     d2 = candidate;
                }
                attempts++;
            }
            if (!d2) d2 = drivers[Math.floor(Math.random() * drivers.length)]; 
            triviaOptionB = d2;

            renderCompareUI();
        }

        function renderCompareUI() {
            const content = document.getElementById('trivia-content');
            const title = document.getElementById('trivia-title');
            title.innerText = t('mode_compare_title');
            document.getElementById('trivia-lives-container').classList.add('hidden'); 
            
            const statLabel = t(triviaStat.label);

            content.innerHTML = `
                <div class="flex flex-col h-full w-full justify-center">
                    <div class="bg-gray-800/50 rounded-full px-6 py-2 mb-6 mx-auto border border-purple-500/30">
                        <p class="text-purple-300 font-bold uppercase tracking-widest text-sm md:text-base animate-pulse">${statLabel}</p>
                    </div>
                    
                    <div class="flex flex-row gap-2 md:gap-6 w-full justify-center items-stretch">
                        <!-- Card A -->
                        <button onclick="checkCompareAnswer('A')" class="compare-card flex-1 bg-gradient-to-b from-gray-800 to-gray-900 border border-gray-600 hover:border-blue-500 p-4 rounded-2xl flex flex-col items-center justify-between group relative overflow-hidden">
                            <div class="absolute top-0 left-0 w-full h-1 bg-blue-500"></div>
                            <div class="w-16 h-16 md:w-24 md:h-24 rounded-full bg-gray-700 flex items-center justify-center text-xl md:text-3xl font-black text-blue-500 mb-2 shadow-inner">
                                ${triviaOptionA.name.split(' ').map(n=>n[0]).join('')}
                            </div>
                            <div class="text-center z-10">
                                <div class="text-lg md:text-2xl font-bold text-white leading-tight mb-1">${triviaOptionA.name}</div>
                                <div class="text-xs text-gray-400 bg-black/20 px-2 py-1 rounded inline-block">${triviaOptionA.country}</div>
                            </div>
                            <div class="mt-4 opacity-0 group-hover:opacity-100 transition-opacity text-blue-400 text-sm font-bold">SELECT</div>
                            <div id="result-overlay-A" class="absolute inset-0 bg-black/80 flex items-center justify-center hidden">
                                <span class="text-3xl font-bold text-white" id="val-A"></span>
                            </div>
                        </button>

                        <div class="flex items-center justify-center">
                            <span class="text-xl font-black text-gray-600 italic">VS</span>
                        </div>

                        <!-- Card B -->
                        <button onclick="checkCompareAnswer('B')" class="compare-card flex-1 bg-gradient-to-b from-gray-800 to-gray-900 border border-gray-600 hover:border-red-500 p-4 rounded-2xl flex flex-col items-center justify-between group relative overflow-hidden">
                            <div class="absolute top-0 left-0 w-full h-1 bg-red-500"></div>
                            <div class="w-16 h-16 md:w-24 md:h-24 rounded-full bg-gray-700 flex items-center justify-center text-xl md:text-3xl font-black text-red-500 mb-2 shadow-inner">
                                ${triviaOptionB.name.split(' ').map(n=>n[0]).join('')}
                            </div>
                            <div class="text-center z-10">
                                <div class="text-lg md:text-2xl font-bold text-white leading-tight mb-1">${triviaOptionB.name}</div>
                                <div class="text-xs text-gray-400 bg-black/20 px-2 py-1 rounded inline-block">${triviaOptionB.country}</div>
                            </div>
                            <div class="mt-4 opacity-0 group-hover:opacity-100 transition-opacity text-red-400 text-sm font-bold">SELECT</div>
                            <div id="result-overlay-B" class="absolute inset-0 bg-black/80 flex items-center justify-center hidden">
                                <span class="text-3xl font-bold text-white" id="val-B"></span>
                            </div>
                        </button>
                    </div>
                    <div id="trivia-feedback" class="mt-6 font-bold text-xl min-h-[30px] w-full text-center"></div>
                </div>
            `;
        }

        function openTriviaSearch() {
            document.getElementById('driver-search').value = '';
            keyboardSelectedIndex = -1;
            renderDriversList();
            document.getElementById('modal').classList.remove('hidden');
            setTimeout(() => document.getElementById('driver-search').focus(), 100);
        }

        function checkTriviaAnswer(driverId) {
            closeModal();
            const feedback = document.getElementById('trivia-feedback');
            const nextBtn = document.getElementById('trivia-next-btn');
            
            if (driverId === triviaTarget.id) {
                SoundManager.play('success');
                feedback.innerHTML = `<span class="text-green-400 text-2xl animate-bounce inline-block"><i class="fas fa-check-circle"></i></span> <br> <span class="text-green-300">${triviaTarget.name}</span>`;
                triviaScore++;
                nextBtn.classList.remove('hidden');
            } else {
                SoundManager.play('error');
                triviaLives--;
                updateTriviaLivesUI();
                
                if (triviaLives <= 0) {
                    feedback.innerHTML = `<span class="text-red-500 text-2xl inline-block"><i class="fas fa-times-circle"></i></span> <br> Era <span class="text-white font-bold">${triviaTarget.name}</span>`;
                    if (subMode === 'infinite') triviaScore = 0; 
                    nextBtn.classList.remove('hidden');
                } else {
                    feedback.innerHTML = `<span class="text-orange-500 text-lg">Riprova! (-1 Vita)</span>`;
                }
            }
            
            document.getElementById('trivia-score').innerText = subMode === 'daily' ? `${triviaScore}/${triviaMaxRounds}` : `${triviaScore} (Streak)`;
        }

        function checkCompareAnswer(selection) {
            const valA = parseFloat(triviaOptionA[triviaStat.key]) || 0;
            const valB = parseFloat(triviaOptionB[triviaStat.key]) || 0;
            const feedback = document.getElementById('trivia-feedback');
            const nextBtn = document.getElementById('trivia-next-btn');

            let isCorrect = false;

            if (selection === 'A' && valA >= valB) isCorrect = true;
            else if (selection === 'B' && valB >= valA) isCorrect = true;

            document.getElementById('result-overlay-A').classList.remove('hidden');
            document.getElementById('result-overlay-B').classList.remove('hidden');
            document.getElementById('val-A').innerText = valA;
            document.getElementById('val-B').innerText = valB;

            if (isCorrect) {
                SoundManager.play('success');
                feedback.innerHTML = `<span class="text-green-400 font-black tracking-widest text-2xl">WIN!</span>`;
                triviaScore++;
            } else {
                SoundManager.play('error');
                feedback.innerHTML = `<span class="text-red-500 font-black tracking-widest text-2xl">FAIL</span>`;
                if (subMode === 'infinite') triviaScore = 0;
            }

            document.getElementById('trivia-score').innerText = subMode === 'daily' ? `${triviaScore}/${triviaMaxRounds}` : `${triviaScore} (Streak)`;
            
            const btns = document.querySelectorAll('.compare-card');
            btns.forEach(b => b.disabled = true);
            nextBtn.classList.remove('hidden');
        }


        // --- DRIVER LIST RENDER ---
        function renderDriversList() {
            const container = document.getElementById('drivers-list');
            const searchTerm = document.getElementById('driver-search').value.toLowerCase();
            container.innerHTML = '';
            filteredDriversList = drivers.filter(d => d.name.toLowerCase().includes(searchTerm));

            filteredDriversList.forEach((d, index) => {
                const isUsed = (currentMode === 'versus' || currentMode === 'solo') && usedDriverIds.includes(d.id);
                const item = document.createElement('div');
                const isSelected = index === keyboardSelectedIndex;
                const baseClass = isUsed ? "flex items-center justify-between p-3 rounded-xl border border-transparent disabled-driver bg-gray-900" : "flex items-center justify-between p-3 rounded-xl cursor-pointer transition-colors border group";
                const activeClass = (!isUsed && isSelected) ? "bg-gray-600 border-gray-400 selected-list-item" : (!isUsed ? "hover:bg-gray-700 border-transparent hover:border-gray-600" : "");
                
                item.className = `${baseClass} ${activeClass}`;
                if (!isUsed) item.onclick = () => selectDriver(d.id);
                item.id = `driver-item-${index}`;
                
                item.innerHTML = `
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full ${isUsed ? 'bg-gray-800 text-gray-600' : 'bg-gray-600 text-white'} flex items-center justify-center text-xs font-bold shadow-md">
                            ${d.name.split(' ').map(n=>n[0]).join('')}
                        </div>
                        <div>
                            <div class="flex items-center">
                                <p class="font-bold text-sm ${isUsed ? 'text-gray-500' : 'text-white'} leading-none">${d.name}</p>
                            </div>
                        </div>
                    </div>
                    ${isUsed ? '<i class="fas fa-lock text-gray-600"></i>' : (isSelected ? '<i class="fas fa-check text-green-400"></i>' : '<i class="fas fa-plus text-gray-600 group-hover:text-white"></i>')}
                `;
                container.appendChild(item);
            });
            if (filteredDriversList.length === 0) container.innerHTML = `<div class="text-center text-gray-500 py-4 text-sm">Nessun pilota trovato</div>`;
        }

        // KEYBOARD EVENT LISTENER
        document.addEventListener('keydown', (e) => {
            const modal = document.getElementById('modal');
            if (modal.classList.contains('hidden')) return;
            if (e.key === 'ArrowDown') {
                e.preventDefault();
                keyboardSelectedIndex++;
                if (keyboardSelectedIndex >= filteredDriversList.length) keyboardSelectedIndex = 0;
                renderDriversList();
                scrollToItem(keyboardSelectedIndex);
            } else if (e.key === 'ArrowUp') {
                e.preventDefault();
                keyboardSelectedIndex--;
                if (keyboardSelectedIndex < 0) keyboardSelectedIndex = filteredDriversList.length - 1;
                renderDriversList();
                scrollToItem(keyboardSelectedIndex);
            } else if (e.key === 'Enter') {
                e.preventDefault();
                if (keyboardSelectedIndex >= 0 && keyboardSelectedIndex < filteredDriversList.length) selectDriver(filteredDriversList[keyboardSelectedIndex].id);
                else if (filteredDriversList.length > 0) selectDriver(filteredDriversList[0].id);
            } else if (e.key === 'Escape') closeModal();
        });

        function scrollToItem(index) {
            const item = document.getElementById(`driver-item-${index}`);
            if (item) item.scrollIntoView({ block: 'nearest' });
        }
        document.getElementById('driver-search').addEventListener('input', () => {
            keyboardSelectedIndex = -1;
            renderDriversList();
        });
        function closeModal() {
            document.getElementById('modal').classList.add('hidden');
            selectedCell = null;
        }

        updateUIText();
    </script>
</body>
</html>
